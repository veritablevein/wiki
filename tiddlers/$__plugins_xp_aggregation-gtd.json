{"tiddlers":{"$:/xp/ui/Buttons/things":{"title":"$:/xp/ui/Buttons/things","caption":"{{$:/core/images/done-button}} things","description":"Getting Things Done","tags":"$:/tags/PageControls","text":"\\whitespace trim\n\\define gtd-button(class)\n\\whitespace trim\n<$button to=\"GettingThingsDone\" tooltip=\"Getting things done\" aria-label=\"things\" class=\"\"\"$(tv-config-toolbar-class)$ $class$\"\"\">\n<$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n{{$:/core/images/done-button}}\n</$list>\n<$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n<span class=\"tc-btn-text\">\nthings\n</span>\n</$list>\n</$button>\n\\end\n\n<$list filter=\"[list[$:/StoryList]] +[field:title[GettingThingsDone]]\" emptyMessage=<<gtd-button>>>\n<<gtd-button \"tc-selected\">>\n</$list>\n"},"GettingThingsDone":{"title":"GettingThingsDone","caption":"{{$:/xp/images/done}} Getting Things Done","color":"#bbb","icon":"$:/core/images/done-button","list":"$:/q1 $:/q2 $:/q3 $:/q4","tmap.id":"2380cd04-736e-4612-9915-13503d35f6e8","text":"\\import $:/xp/aggregation-gtd/macros\n\\whitespace trim\n\n\\define funTiddler() $:/config/xp/aggregation-gtd/FunctionTabs\n\\define stateTiddler() $:/config/xp/aggregation-gtd/QuadrantView\n\n\\define qTag()\n[[$(currentList)$]]\n\\end\n\n\\define drop-actions()\n<$action-listops $tiddler=<<actionTiddler>> $tags=\"-[enlist<gtd-quadrant>]\"/>\n<$action-listops $tiddler=<<actionTiddler>> $tags=\"GTD [<qTag>]\"/>\n<$list filter=<<gtd-quadrant>> variable=\"qList\">\n<$action-listops $tiddler=<<qList>> $subfilter=\"-[<actionTiddler>]\"/>\n</$list>\n<$action-listops $tiddler=<<currentList>> $subfilter=\"+[append<actionTiddler>]\"/>\n<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n\\define drop-actions-delete()\n<$list filter=\"[<actionTiddler>tag[GTD]limit[1]]\" variable=\"ignore\">\n<$vars td-baseName={{{ [<actionTiddler>removeprefix[$:/]] }}}>\n<$action-deletetiddler $filter=\"[prefix[$:/todolist/data]suffix<td-baseName>]\"/>\n<$list filter=<<gtd-quadrant>> variable=\"qList\">\n<$action-listops $tiddler=<<qList>> $subfilter=\"-[<actionTiddler>]\"/>\n</$list>\n<$action-deletetiddler $tiddler=<<actionTiddler>>/>\n</$vars>\n<$action-sendmessage $message=\"tm-notify\" $param=\"$:/language/Notifications/DeleteTiddler\"/>\n<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n</$list>\n\\end\n\n\\define gtdDeleteActions()\n<$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}} td-basePath=\"$:/todolist/data\">\n<$action-deletetiddler $filter=\"[prefix<td-basePath>suffix<td-baseName>]\"/>\n<$action-listops $tiddler=<<currentList>> $subfilter=\"+[remove<currentTiddler>]\"/>\n<$action-sendmessage $message=\"tm-close-tiddler\" param=<<currentTiddler>>/>\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\n</$vars>\n\\end\n\n\\define gtdQuadrant(n)\n<$vars currentList=\"$:/q$n$\" qTag=\"$:/q$n$\">\n<$reveal state=<<stateTiddler>> type=\"match\" text=<<currentList>> animate=\"yes\">\n    <$droppable actions=<<drop-actions>>>\n    <div class=\"xp-gtd-list-header-droppable\">\n  <$button class=\"tc-btn-invisible xp-gtd-list-header-btn\">\n    <span class=\"xp-gtd-q$n$\">\n    <$transclude tiddler=<<currentList>> field=\"caption\"><$view tiddler=<<currentList>> field=\"title\"/></$transclude>\n    </span>\n    <$action-setfield $tiddler=<<stateTiddler>> text=\"4\"/>\n  </$button>\n    </div>\n    </$droppable>\n  <div style=\"padding:10px 0 8px;\">\n    {{$:/xp/aggregation-gtd/ui/AddTodo}}\n  </div>\n<div class=\"py-todos\">\n    <$droppable actions=<<drop-actions>>>\n<$list \n  filter=\"[tag<qTag>!tag[done]!sort[created]] [tag<qTag>tag[done]!sort[modified]] +[!has[draft.of]limit[250]]\"\n  template=\"$:/xp/aggregation-gtd/quadrant/ItemTemplate\"\n/>\n    </$droppable>\n</div>\n</$reveal>\n</$vars>\n\\end\n\n\n<!-- Function Tabs -->\n<div class=\"xp-gtd-tabs\">\n<$button class=\"py-btn xp-gtd-btn xp-gtd-btn-quadrant\"> 四象限\n<$action-setfield $tiddler=<<funTiddler>> text=\"4\"/>\n</$button>\n<$button class=\"py-btn xp-gtd-btn xp-gtd-btn-search\" style=\"margin:0 .4em;\"> 搜索\n<$action-setfield $tiddler=<<funTiddler>> text=\"s\"/>\n</$button>\n<$droppable actions=<<drop-actions-delete>>>\n<$button class=\"py-btn xp-gtd-btn\"> 清理机\n<$vars junkFilter=\"[prefix[$:/todolist/data/status/]removeprefix[$:/todolist/data/status]addprefix[$:]!is[tiddler]] [tag[GettingThingsDone]get[list]enlist-input[]!is[tiddler]]\">\n  <$list filter=\"[subfilter<junkFilter>count[]!match[0]]\" variable=\"ignore\">\n  <$list filter=<<junkFilter>> variable=\"junkItem\">\n  <$vars junkItemSuffix={{{ [<junkItem>removeprefix[$:/]] }}}>\n<$action-deletetiddler $filter=\"[prefix[$:/todolist/data]suffix<junkItemSuffix>]\"/>\n  <$list filter=<<gtd-quadrant>> variable=\"qList\">\n<$action-listops $tiddler=<<qList>> $subfilter=\"-[<junkItem>]\"/>\n  </$list>\n  </$vars>\n  </$list>\n<$action-sendmessage $message=\"tm-notify\" $param=\"$:/language/Notifications/CompleteCleanup\"/>\n  </$list>\n  <$list filter=\"[subfilter<junkFilter>count[]match[0]]\">\n<$action-sendmessage $message=\"tm-notify\" $param=\"$:/language/Notifications/NoCleaningRequired\"/>\n  </$list>\n</$vars>\n</$button>\n</$droppable>\n</div>\n\n\n<!-- 四象限 -->\n<$reveal state=<<funTiddler>> type=\"match\" text=\"4\" default=\"4\" animate=\"yes\">\n\n<$reveal state=<<stateTiddler>> type=\"match\" text=\"4\" animate=\"yes\">\n<div class=\"xp-gtd-lists\">\n<$list filter=<<gtd-quadrant>> variable=\"currentList\" storyview=\"pop\">\n  <div class=\"xp-gtd-list\">\n    <header>\n      <$droppable actions=<<drop-actions>>>\n        <div class=\"xp-gtd-list-header-droppable\">\n        <$button class=\"tc-btn-invisible xp-gtd-list-header-btn\">\n          <span class={{{ [<currentList>removeprefix[$:/]addprefix[xp-gtd-]] }}}>\n          <$transclude tiddler=<<currentList>> field=\"caption\"><$view tiddler=<<currentList>> field=\"title\"/></$transclude>\n          </span>\n          <$action-setfield $tiddler=<<stateTiddler>> text=<<currentList>>/>\n        </$button>\n        </div>\n      </$droppable>\n    </header>\n    <ul>\n      <$droppable actions=<<drop-actions>>>\n      <div class=\"py-todos\" style=\"height:100%;\">\n        <$reveal default={{{ [tag<currentList>!has[draft.of]count[]] }}} type=\"match\" text=\"0\">\n        <div class=\"xp-gtd-list-notask\">没有任务</div>\n        </$reveal>\n        <$list filter=\"[tag<currentList>!tag[done]!sort[created]!has[draft.of]limit[10]]\" template=\"$:/xp/aggregation-gtd/ItemTemplate\" />\n        <$list filter=\"[tag<currentList>tag[done]!sort[modified]!has[draft.of]limit[10]]\" template=\"$:/xp/aggregation-gtd/ItemTemplate\" />\n      </div>\n      </$droppable>\n    </ul>\n    <$tiddler tiddler=\"\">\n    <footer>\n      {{$:/xp/aggregation-gtd/ui/AddTodo}}\n    </footer>\n    </$tiddler>\n  </div>\n</$list>\n</div>\n</$reveal>\n\n<$reveal state=<<stateTiddler>> type=\"nomatch\" text=\"4\" animate=\"yes\">\n<div class=\"xp-gtd-list-quadrant\">\n\n<<gtdQuadrant 1>>\n<<gtdQuadrant 2>>\n<<gtdQuadrant 3>>\n<<gtdQuadrant 4>>\n\n</div>\n</$reveal>\n\n</$reveal>\n\n\n<!-- 搜索 -->\n<$reveal state=<<funTiddler>> type=\"match\" text=\"s\" animate=\"yes\">\n\n{{$:/xp/aggregation-gtd/ui/Search}}\n\n</$reveal>\n"},"$:/xp/ui/KeyboardShortcuts/sidebar-things":{"title":"$:/xp/ui/KeyboardShortcuts/sidebar-things","key":"((sidebar-things))","list-after":"$:/core/ui/KeyboardShortcuts/sidebar-search","tags":"$:/tags/KeyboardShortcut","text":"<$action-setfield $tiddler=\"$:/state/tab/sidebar--595412856\" text=\"$:/xp/ui/SideBar/Things\"/>\n<$action-sendmessage $message=\"tm-focus-selector\" $param=\".xp-gtd-addtodo input\"/>"},"$:/config/ShortcutInfo/sidebar-things":{"title":"$:/config/ShortcutInfo/sidebar-things","text":"Things"},"$:/config/StoryTiddlerTemplateFilters/gtd":{"title":"$:/config/StoryTiddlerTemplateFilters/gtd","tags":"$:/tags/StoryTiddlerTemplateFilter","text":"[prefix[$:/gtd/]then{$:/config/ui/ViewTemplate/gtd}]"},"$:/config/ViewTemplateTitleFilters/gtd":{"title":"$:/config/ViewTemplateTitleFilters/gtd","tags":"$:/tags/ViewTemplateTitleFilter","text":"[prefix[$:/gtd/]then[$:/xp/ui/ViewTemplate/title/caption]]"},"$:/config/ui/ViewTemplate/gtd":{"title":"$:/config/ui/ViewTemplate/gtd","text":"$:/xp/ui/ViewTemplate/gtd"},"$:/xp/ui/ViewTemplate/gtd":{"title":"$:/xp/ui/ViewTemplate/gtd","text":"\\whitespace trim\n\\define folded-state()\n$:/state/folded/$(currentTiddler)$\n\\end\n\\define cancel-delete-tiddler-actions(message) <$action-sendmessage $message=\"tm-$message$-tiddler\"/>\n\\import [all[shadows+tiddlers]tag[$:/tags/Macro/View]!has[draft.of]]\n<$vars storyTiddler=<<currentTiddler>> tiddlerInfoState=<<qualify \"$:/state/popup/tiddler-info\">>>\n<div data-tiddler-title=<<currentTiddler>> data-tags={{!!tags}} class={{{ tc-tiddler-frame tc-tiddler-view-frame [<currentTiddler>is[tiddler]then[tc-tiddler-exists]] [<currentTiddler>is[missing]!is[shadow]then[tc-tiddler-missing]] [<currentTiddler>is[shadow]then[tc-tiddler-exists tc-tiddler-shadow]] [<currentTiddler>is[shadow]is[tiddler]then[tc-tiddler-overridden-shadow]] [<currentTiddler>is[system]then[tc-tiddler-system]] [{!!class}] [<currentTiddler>tags[]encodeuricomponent[]addprefix[tc-tagged-]] +[join[ ]] }}}>\n<$list filter=\"[all[shadows+tiddlers]tag[$:/tags/ViewTemplate]!has[draft.of]] +[remove[$:/core/ui/ViewTemplate/subtitle $:/core/ui/ViewTemplate/tags]]\" variable=\"listItem\">\n<$transclude tiddler=<<listItem>>/>\n</$list>\n</div>\n</$vars>\n"},"$:/config/xp/aggregation-gtd/AutoPreview":{"title":"$:/config/xp/aggregation-gtd/AutoPreview","text":"yes"},"$:/config/xp/aggregation-gtd/ContentType":{"title":"$:/config/xp/aggregation-gtd/ContentType"},"$:/config/xp/aggregation-gtd/DefaultView":{"title":"$:/config/xp/aggregation-gtd/DefaultView","text":"gtd"},"$:/config/xp/aggregation-gtd/FunctionTabs":{"title":"$:/config/xp/aggregation-gtd/FunctionTabs","text":"4"},"$:/config/xp/aggregation-gtd/QuadrantView":{"title":"$:/config/xp/aggregation-gtd/QuadrantView","text":"4"},"$:/config/xp/aggregation-gtd/QuadrantIcon":{"title":"$:/config/xp/aggregation-gtd/QuadrantIcon","text":"$:/xp/images/q1"},"$:/config/xp/aggregation-gtd/QuadrantTag":{"title":"$:/config/xp/aggregation-gtd/QuadrantTag","text":"$:/q1"},"$:/config/xp/aggregation-gtd/SideBar/QuadrantView":{"title":"$:/config/xp/aggregation-gtd/SideBar/QuadrantView","text":"4"},"$:/config/xp/aggregation/ui/gtd":{"title":"$:/config/xp/aggregation/ui/gtd","text":"GettingThingsDone"},"$:/xp/images/done":{"title":"$:/xp/images/done","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" viewBox=\"0 0 128 128\"><path fill-rule=\"evenodd\" d=\"M42.26 111.032c-2.051.001-4.103-.78-5.668-2.345L2.662 74.758a8 8 0 01-.005-11.32c3.118-3.117 8.192-3.12 11.32.007l28.278 28.278 72.124-72.124a8.002 8.002 0 0111.314-.001c3.118 3.118 3.124 8.19 0 11.315l-77.78 77.78a7.978 7.978 0 01-5.658 2.343z\"/></svg>"},"$:/xp/images/edit":{"title":"$:/xp/images/edit","tags":"$:/tags/Image","text":"<svg width=\"22pt\" height=\"22pt\" class=\"xp-image-edit tc-image-button\" viewBox=\"0 0 1024 1024\"><path d=\"M940.8 262.4l-179.2-179.2c-32-32-64-25.6-96 6.4L128 627.2l-57.6 249.6c-12.8 25.6-6.4 51.2 12.8 70.4 19.2 19.2 44.8 19.2 70.4 6.4L396.8 896l537.6-537.6C966.4 332.8 972.8 300.8 940.8 262.4zM128 896l44.8-224 179.2 179.2L128 896zM396.8 806.4 217.6 627.2l454.4-454.4c32-32 57.6-32 89.6 0l89.6 89.6c32 32 32 57.6 0 89.6L396.8 806.4z\"/></svg>"},"$:/xp/images/q1":{"title":"$:/xp/images/q1","tags":"$:/tags/Image","text":"<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 32 32\" class=\"xp-image-q1 tc-image-button\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 Z M19.546875,7.8984375 L13.453125,7.8984375 L13.453125,8.859375 L14.9882812,9 L15.3984375,9.33984375 L15.3984375,22.5585938 L14.9882812,22.8984375 L13.453125,23.015625 L13.453125,24 L19.546875,24 L19.546875,23.015625 L18.0117188,22.8984375 L17.6015625,22.5585938 L17.6015625,9.33984375 L18.0117188,9 L19.546875,8.859375 L19.546875,7.8984375 Z\"/></svg>"},"$:/xp/images/q2":{"title":"$:/xp/images/q2","tags":"$:/tags/Image","text":"<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 32 32\" class=\"xp-image-q2 tc-image-button\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 Z M15.9023438,7.8984375 L8.71875,7.8984375 L8.71875,9.0703125 L10.3125,9.1875 L10.7109375,9.52734375 L10.7109375,22.3242188 L10.3125,22.6992188 L8.71875,22.828125 L8.71875,24 L15.9023438,24 L15.9023438,22.828125 L14.296875,22.6992188 L13.9101562,22.3242188 L13.9101562,9.52734375 L14.296875,9.1875 L15.9023438,9.0703125 L15.9023438,7.8984375 Z M24.3984375,7.8984375 L17.2148438,7.8984375 L17.2148438,9.0703125 L18.8085938,9.1875 L19.2070312,9.52734375 L19.2070312,22.3242188 L18.8085938,22.6992188 L17.2148438,22.828125 L17.2148438,24 L24.3984375,24 L24.3984375,22.828125 L22.7929688,22.6992188 L22.40625,22.3242188 L22.40625,9.52734375 L22.7929688,9.1875 L24.3984375,9.0703125 L24.3984375,7.8984375 Z\"/></svg>"},"$:/xp/images/q3":{"title":"$:/xp/images/q3","tags":"$:/tags/Image","text":"<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 32 32\" class=\"xp-image-q3 tc-image-button\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 Z M11.765625,7.8984375 L5.671875,7.8984375 L5.671875,8.859375 L7.20703125,9 L7.6171875,9.33984375 L7.6171875,22.5585938 L7.20703125,22.8984375 L5.671875,23.015625 L5.671875,24 L11.765625,24 L11.765625,23.015625 L10.2304688,22.8984375 L9.8203125,22.5585938 L9.8203125,9.33984375 L10.2304688,9 L11.765625,8.859375 L11.765625,7.8984375 Z M19.546875,7.8984375 L13.453125,7.8984375 L13.453125,8.859375 L14.9882812,9 L15.3984375,9.33984375 L15.3984375,22.5585938 L14.9882812,22.8984375 L13.453125,23.015625 L13.453125,24 L19.546875,24 L19.546875,23.015625 L18.0117188,22.8984375 L17.6015625,22.5585938 L17.6015625,9.33984375 L18.0117188,9 L19.546875,8.859375 L19.546875,7.8984375 Z M27.328125,7.8984375 L21.234375,7.8984375 L21.234375,8.859375 L22.7695312,9 L23.1796875,9.33984375 L23.1796875,22.5585938 L22.7695312,22.8984375 L21.234375,23.015625 L21.234375,24 L27.328125,24 L27.328125,23.015625 L25.7929688,22.8984375 L25.3828125,22.5585938 L25.3828125,9.33984375 L25.7929688,9 L27.328125,8.859375 L27.328125,7.8984375 Z\"/></svg>"},"$:/xp/images/q4":{"title":"$:/xp/images/q4","tags":"$:/tags/Image","text":"<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 32 32\" class=\"xp-image-q4 tc-image-button\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 Z M18.0117188,7.8984375 L12.421875,7.8984375 L12.421875,8.859375 L13.9570312,9.140625 L19.59375,24.1171875 L21.2578125,24.1171875 L26.7773438,9.140625 L28.265625,8.859375 L28.265625,7.8984375 L23.484375,7.8984375 L23.484375,8.859375 L24.9726562,9 L25.2070312,9.33984375 L20.8710938,21.4335938 L16.359375,9.33984375 L16.6171875,9 L18.0117188,8.859375 L18.0117188,7.8984375 Z M12.1289062,7.8984375 L6.03515625,7.8984375 L6.03515625,8.859375 L7.5703125,9 L7.98046875,9.33984375 L7.98046875,22.5585938 L7.5703125,22.8984375 L6.03515625,23.015625 L6.03515625,24 L12.1289062,24 L12.1289062,23.015625 L10.59375,22.8984375 L10.1835938,22.5585938 L10.1835938,9.33984375 L10.59375,9 L12.1289062,8.859375 L12.1289062,7.8984375 Z\"/></svg>"},"$:/xp/images/todolist":{"title":"$:/xp/images/todolist","tags":"$:/tags/Image","text":"<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 1024 1024\"><path d=\"M328.992 168.992L224 274.016 183.008 232.96 136.96 279.04l64 64 23.008 21.984 23.008-21.984 128-128L328.96 168.96zM480 224v64h416V224H480z m-151.008 200.992L224 529.984l-40.992-40.96-46.016 45.984 64 64 23.008 21.984 23.008-21.984 128-128-46.016-46.016zM480 480v64h416v-64H480z m-151.008 200.992L224 786.016 183.008 744.96 136.96 791.04l64 64 23.008 21.984 23.008-21.984 128-128-46.016-46.016zM480 736v64h416v-64H480z\"/></svg>"},"$:/language/xp/aggregation-gtd/DateFormat":{"title":"$:/language/xp/aggregation-gtd/DateFormat","text":"MM月DD日 DDD"},"$:/language/Notifications/CompleteCleanup":{"title":"$:/language/Notifications/CompleteCleanup","text":"Complete Cleanup!"},"$:/language/Notifications/DeleteTiddler":{"title":"$:/language/Notifications/DeleteTiddler","text":"Deleted!"},"$:/language/Notifications/NoCleaningRequired":{"title":"$:/language/Notifications/NoCleaningRequired","text":"No cleaning required!"},"$:/xp/aggregation-gtd/macros/todolist-ui":{"title":"$:/xp/aggregation-gtd/macros/todolist-ui","tags":"$:/tags/Macro","text":"\\define td-basePath()    $:/todolist/data\n\n\\define gtd-add-task-action()\n<$list filter=\"[{$:/state/gtd/edit}is[tiddler]!tag[Todolist]]\">\n<$action-listops $tiddler={{$:/state/gtd/edit}} $tags=\"Todolist\"/>\n</$list>\n<$list filter=\"[<stateTiddler>getindex[itemtext]!is[blank]]\" variable=ignore>\n\t<$set name=item value=<<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">> >\n\t<$action-setfield \n\t $tiddler=<<taskTiddler>>\n\t $index=<<item>>\n\t $value={{{ [<stateTiddler>getindex[itemtext]] }}}\n\t/>\n\t<$action-setfield $tiddler=<<statusTiddler>> $index=<<item>> $value=\"undone\" />\n\t<$action-setfield $tiddler=<<priorityTiddler>> $index=<<item>> $value=\"none\" />\n  <$macrocall $name=\"todolist-add-item-to-list\" targetTiddler=<<taskTiddler>> item=<<item>> />\n\t</$set>\n\t<$action-setfield $tiddler=<<stateTiddler>> $index=\"itemtext\" $value=\"\"/>\n\t<$action-setfield $tiddler=<<stateTiddler>> $index=\"markall\"  $value=\"\"/><!--reset markall button-->\n</$list>\n\\end\n\n\\define gtd-todolist-ui(caption:\"A plain todolist\", width:\"100%\")\n\\import [all[tiddlers+shadows]tag[$:/tags/Todolist/Macro]!has[draft.of]]\n\\whitespace trim\n\n<$vars \n nameSpace=      \"\"\"$(td-baseName)$\"\"\"\n stateTiddler=   \"\"\"$(td-basePath)$/state/$(td-baseName)$\"\"\"\n taskTiddler=    \"\"\"$(td-basePath)$/tasks/$(td-baseName)$\"\"\"\n doneTiddler=    \"\"\"$(td-basePath)$/done/$(td-baseName)$\"\"\"\n statusTiddler=  \"\"\"$(td-basePath)$/status/$(td-baseName)$\"\"\"\n priorityTiddler=\"\"\"$(td-basePath)$/priority/$(td-baseName)$\"\"\"\n archiveTiddler= \"\"\"$(td-basePath)$/archive/$(td-baseName)$\"\"\"\t\n displayArchivedTiddler=\"\"\"Todolist - Archived Items - $(td-baseName)$\"\"\"\n>\t\n<div class=\"kk-todolist-ui\" style=\"max-width:$width$;\">\n\n<h2>$caption$</h2>\n\n<div class=\"kk-todolist-header-ui\">\n<div class=\"kk-todolist-header-textbox\"><$vars todolist-add-task-action=<<gtd-add-task-action>>><<todolist-input-task>></$vars></div>\n<div><<todolist-add-task>></div>\n<div><<todolist-toggle-edit-button>></div>\n<div><<todolist-options-button>></div>\n</div>\n<<todolist-options-content>>\n<!--\n<$list filter=\"[<taskTiddler>indexes[]!sort[]]\" variable=\"item\">\n<$transclude tiddler=\"$:/plugins/kookma/todolist/template/undone-task\" field=\"text\" />\n</$list>\n-->\n\n<!-- display undone items -->\n<$list filter=\"[<stateTiddler>getindex[editview]match[edit]]\" variable=ignore \n   emptyMessage=\"\"\"<$macrocall $name=\"draggable-list\" targetTiddler=<<taskTiddler>> />\"\"\">\n\t <<disp-list-in-edit-mode>>\n</$list>\n<!-- display done items -->\n<$list filter=\"[<doneTiddler>indexes[]!nsort[]]\" variable=\"item\">\n<$transclude tiddler=\"$:/plugins/kookma/todolist/template/done-task\" field=\"text\" />\n</$list>\n</div>\n</$vars>\n\\end\n"},"$:/xp/aggregation-gtd/macros":{"title":"$:/xp/aggregation-gtd/macros","text":"\\define aggregationTag() GTD\n\n\\define gtd-quadrant()\n$:/q1 $:/q2 $:/q3 $:/q4\n\\end\n\n\\define gtdEditActions()\n<$action-setfield $tiddler=\"$:/state/gtd/edit\" text=<<currentTiddler>>/>\n<$action-setfield $tiddler=\"$:/state/gtd/edit-caption\" text={{{ [<currentTiddler>get[caption]] }}}/>\n<$action-setfield $tiddler=\"$:/xp/aggregation-gtd/ui/EditTemplate\" subtitle={{{ [<currentList>get[caption]] }}}/>\n<!-- footer=<<gtdModalFooter>> -->\n<$action-sendmessage $message=\"tm-modal\" $param=\"$:/xp/aggregation-gtd/ui/EditTemplate\" currentList=<<currentList>> currentItem=<<currentTiddler>>/>\n\\end\n\n\\define gtdModalFooter()\n<span class=\"tc-muted\" style=\"float:left;text-align:left;padding:.5em 0 0 1em;font-size:.9em;\">\nStatus:\n<$list filter=\"[<currentItem>!tag[done]]\"><span style=\"color:#cc3333;\">undone</span></$list>\n<$list filter=\"[<currentItem>removeprefix[$:/]addprefix[$:/todolist/data/status/]search:text[undone]]\">\n<$list filter=\"[<currentItem>!tag[done]]\"> / </$list>\n<span style=\"color:#cc3333;\">todolist</span>\n</$list>\n<$list filter=\"[<currentItem>tag[done]]\">\n<$list filter=\"[<currentItem>removeprefix[$:/]addprefix[$:/todolist/data/status/]!search:text[undone]]\">\n<span style=\"color:#00a565;\">completed</span>\n</$list></$list>\n</span>\n<span class=\"py-todo-actions\">\n<$button tooltip=\"Delete all information about this item\" class=\"py-btn\">\n<span style=\"opacity:.8;\">{{$:/core/images/delete-button}}</span>\n<$action-deletetiddler $tiddler=<<currentItem>>/>\n<$action-deletetiddler $filter=\"[prefix[$:/todolist/data]suffix<td-baseName>]\"/>\n<$action-sendmessage $message=\"tm-close-tiddler\"/>\n<$action-listops $tiddler=<<currentList>> $subfilter=\"+[remove<currentItem>]\"/>\n</$button>\n<$button tooltip=\"Confirm changes to this item.  ctrl-Enter\" class=\"py-btn\" style=\"margin:0 1em 0 .8em;\">\n{{$:/core/images/done-button}}\n<$list filter=\"[<currentItem>get[caption]!match{$:/state/gtd/edit-caption}]\">\n<$action-setfield $tiddler=<<currentItem>> $field=\"caption\" $value={{$:/state/gtd/edit-caption}}/>\n</$list>\n<$action-sendmessage $message=\"tm-close-tiddler\"/>\n</$button>\n</span>\n\\end\n\n\n\\define py-has-todos-due-today-or-overdue()\n[all[tiddlers]days:due[0]] [all[tiddlers]!days:due[-1]] +[!has[draft.of]!tag[done]limit[1]]\n\\end\n\n\\define py-todos-due-today-or-overdue()\n[all[tiddlers]days:due[0]] [all[tiddlers]!days:due[-1]] +[!has[draft.of]!tag[done]sort[due]]\n\\end\n\n\n\\define py-has-overdue-todos()\n[tag[GTD]!tag[done]!has[draft.of]!days:due[-1]limit[1]]\n\\end\n\n\\define py-todos-overdue()\n[tag[GTD]!tag[done]!has[draft.of]!days:due[-1]sort[due]]\n\\end\n\n\\define py-schedule-overdue()\n  <$list\n    filter=<<py-todos-overdue>>\n    template=\"$:/xp/aggregation-gtd/SideBar/ItemTemplate\"\n  />\n\\end\n\n\n\\define py-has-today-todos()\n[tag[GTD]!tag[done]!has[draft.of]days:due[0]limit[1]]\n\\end\n\n\\define py-todos-due-today()\n[tag[GTD]!tag[done]!has[draft.of]days:due[0]!sort[created]]\n\\end\n\n\\define py-schedule-today()\n  <$list\n    filter=<<py-todos-due-today>>\n    template=\"$:/xp/aggregation-gtd/today/ItemTemplate\"\n    emptyMessage=\"🌞 {{$:/language/projectify/AllClear}}\"\n  />\n\\end\n\n\\define thingsDoneToday(filter:\"[tag[GTD]tag[done]sameday{!!created}]\",itemTemplate:\"$:/xp/aggregation-gtd/today/ItemTemplate\",caption:\"今日毕\")\n<$list filter=\"[subfilter<__filter__>limit[1]]\" variable=\"ignore\">\n<$vars showProjectLinks=\"yes\">\n<dl>\n  <dt>$caption$</dt>\n  <dd class=\"xp-gtd-dd\">\n  <$list\n    filter=<<__filter__>>\n    template=\"\"\"$itemTemplate$\"\"\"\n  />\n  </dd>\n</dl>\n</$vars>\n</$list>\n\\end\n\n\n\\define py-has-tomorrow-todos()\n[tag[GTD]!tag[done]!has[draft.of]!days:due[1]limit[1]]\n\\end\n\n\\define py-todos-due-tomorrow()\n[tag[GTD]!tag[done]!has[draft.of]days:due[1]!sort[created]]\n\\end\n\n\\define py-schedule-tomorrow()\n  <$list\n    filter=<<py-todos-due-tomorrow>>\n    template=\"$:/xp/aggregation-gtd/today/ItemTemplate\"\n  />\n\\end\n\n\n\\define py-has-upcoming-todos()\n[tag[GTD]!tag[done]!has[draft.of]!days:due[1]limit[1]]\n\\end\n\n\\define py-todos-due-upcoming()\n[tag[GTD]!tag[done]!has[draft.of]!days:due[1]sort[due]]\n\\end\n\n\\define py-schedule-upcoming()\n<$list filter=<<py-has-upcoming-todos>>>\n  <$list\n    filter=<<py-todos-due-upcoming>>\n    template=\"$:/xp/aggregation-gtd/SideBar/ItemTemplate\"\n  />\n</$list>\n\\end\n\n\n\\define scheduleTodoList()\n<$vars showProjectLinks=\"yes\">\n<$list filter=<<py-has-overdue-todos>>>\n  <dl>\n  <dt><<lingo Overdue>></dt>\n  <dd class=\"xp-gtd-dd\"><<py-schedule-overdue>></dd>\n  </dl>\n</$list>\n\n<dl>\n  <dt>\n  <<lingo Today>>\n  <$list filter=<<py-has-today-todos>>>\n    <span style=\"color:#df3f3f;border:1px dotted #df3f3f;border-radius:1em;padding:0 4px;\">\n      <$count filter=<<py-todos-due-today>>/>\n    </span>\n  </$list>\n  </dt>\n  <dd class=\"xp-gtd-dd\"><<py-schedule-today>></dd>\n</dl>\n\n<$list filter=<<py-has-upcoming-todos>>>\n  <dl>\n    <dt><<lingo Upcoming>></dt>\n    <dd class=\"xp-gtd-dd\"><<py-schedule-upcoming>></dd>\n  </dl>\n</$list>\n</$vars>\n\\end\n\n\n<pre><$view field=\"text\"/></pre>"},"$:/plugins/nico/projectify/images/calendar":{"title":"$:/plugins/nico/projectify/images/calendar","tags":"$:/tags/Image","text":"<svg class=\"bi bi-calendar-week tc-image-button\" width=\"22pt\" height=\"22pt\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/><path d=\"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z\"/></svg>"},"$:/plugins/nico/projectify/ui/buttons/Scheduled":{"title":"$:/plugins/nico/projectify/ui/buttons/Scheduled","caption":"{{$:/plugins/nico/projectify/images/calendar}} {{$:/language/projectify/TodaysTodos}}","description":"Show all todos scheduled for today","tags":"$:/tags/PageControls","text":"\\import $:/xp/aggregation-gtd/macros\n\\whitespace trim\n\\define lingo-base() $:/language/projectify/\n\n<$button\n  popup=\"$:/state/projectify/scheduled-dropdown\"\n  tooltip={{$:/language/projectify/TodaysTodos}}\n  aria-label={{$:/language/projectify/TodaysTodos}}\n  class={{{ [[desktop-only ]addsuffix<tv-config-toolbar-class>] }}}\n  selectedClass=\"tc-selected\"\n>\n  <$list filter=\"[<tv-config-toolbar-icons>match[yes]]\">\n    <span class=\"py-pill-container\">\n      {{$:/plugins/nico/projectify/images/calendar}}\n      <$list filter=<<py-has-todos-due-today-or-overdue>>>\n        <div class=\"py-pill\" style=\"right:-2px !important;\"></div>\n      </$list>\n    </span>\n  </$list>\n  <$list filter=\"[<tv-config-toolbar-text>match[yes]]\">\n    <span class=\"tc-btn-text\"><<lingo TodaysTodos>></span>\n  </$list>\n</$button>\n\n<$reveal state=\"$:/state/projectify/scheduled-dropdown\" type=\"popup\" position=\"belowleft\">\n  <div class=\"tc-drop-down py-scheduled-drop-down\">\n    <h4><<lingo TodayAndOverdue>></h4>\n    <$list\n      filter=<<py-todos-due-today-or-overdue>>\n\t\t\ttemplate=\"$:/xp/aggregation-gtd/PageControls/ItemTemplate\"\n      emptyMessage=\"\"\"<div class=\"clear\">🌞 <<lingo AllClear>></div>\"\"\"\n    >\n      <$link to={{!!title}}>\n\t{{||$:/plugins/nico/projectify/ui/todo/TodoCaption}}\n      </$link>\n    </$list>\n  </div>\n</$reveal>\n"},"$:/plugins/nico/projectify/ui/buttons/ToggleTodo":{"title":"$:/plugins/nico/projectify/ui/buttons/ToggleTodo","caption":"{{$:/plugins/nico/projectify/ui/buttons/Checkbox}} Toggle todo","description":"Projectify -- Toggle the state of the current todo tiddler","text":"\\define save-actions()\n  <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<$list filter=<<py-is-todo>>>\n  <span class=\"py-toggle-todo-button\">\n    <$checkbox tag=\"done\" actions=<<save-actions>>>\n      {{||$:/plugins/nico/projectify/ui/buttons/Checkbox}}\n    </$checkbox>\n  </span>\n</$list>\n\n"},"$:/plugins/nico/projectify/ui/sidebar/Projects":{"title":"$:/plugins/nico/projectify/ui/sidebar/Projects","caption":"{{$:/language/projectify/Projects}}","list-before":"$:/plugins/nico/notebook/Sidebar/Open","tags":"$:/themes/nico/notebook/tags/SidebarSection","text":"<div class=\"py-sidebar-section\">\n  {{$:/plugins/nico/projectify/ui/dashboard/ProjectList}}\n</div>\n"},"$:/plugins/nico/projectify/ui/sidebar/Upcoming":{"title":"$:/plugins/nico/projectify/ui/sidebar/Upcoming","caption":"{{$:/language/projectify/Upcoming}}","list-before":"$:/plugins/nico/projectify/NotebookSidebar/Projects","tags":"$:/themes/nico/notebook/tags/SidebarSection","text":"<div class=\"py-sidebar-section\">\n  {{$:/plugins/nico/projectify/ui/dashbaord/Upcoming}}\n</div>\n"},"$:/q1":{"title":"$:/q1","caption":"{{$:/xp/images/q1}} 重要且紧急","tags":"GettingThingsDone"},"$:/q2":{"title":"$:/q2","caption":"{{$:/xp/images/q2}} 重要不紧急","tags":"GettingThingsDone"},"$:/q3":{"title":"$:/q3","caption":"{{$:/xp/images/q3}} 不重要但紧急","tags":"GettingThingsDone"},"$:/q4":{"title":"$:/q4","caption":"{{$:/xp/images/q4}} 不重要不紧急","tags":"GettingThingsDone"},"$:/plugins/xp/aggregation-gtd/readme":{"title":"$:/plugins/xp/aggregation-gtd/readme","text":"! Getting Things Done\n\nA task management tool that integrates $:/plugins/nico/projectify + $:/plugins/kookma/todolist + $:/plugins/xp/aggregation\n\n! 使用指南\n\n该插件主要功能：\n\n* 在主界面 GettingThingsDone 中管理任务。\n* 在边栏 [[Things|$:/xp/ui/SideBar/Things]] 中查看任务。快捷键 <kbd>alt-T</kbd>。\n* 页面工具栏按钮 {{$:/plugins/nico/projectify/ui/buttons/Scheduled}} 查看今天待办的任务。\n\nGTD 任务条目不会与原有维基内容相冲突，任务名使用 `caption` 字段，而 `title` 使用 `$:/gtd/<timestamp>` 自动命名。\n\n如果你喜欢使用 [[Markdown 插件|$:/plugins/tiddlywiki/markdown]]，可以在 settings 中将默认文本类型设置为 Markdown。\n\n!! 四象限\n\n* 在象限底部的输入框中创建新任务。\n* 拖拽任务条目的链接到另一个象限，快速改变象限。\n* 点击象限标题，查看该象限的全部列表。\n\n编辑任务条目：\n\n* 点击 <<.icon $:/xp/images/edit>> 编辑按钮打开弹窗编辑视图。\n** 编辑内容时，可以使用快捷键格式化内容。比如 <kbd>ctrl-1</kbd> 一级标题、<kbd>ctrl-shift-L</kbd> 项目列表。（编辑工具栏被隐藏了）\n* 也可以打开链接，使用 Easy Edit Button 或者 TiddlyWiki 默认的编辑视图。\n** 注意：使用 Easy Edit 进行编辑时 CodeMirror editor 会出现行号异常。点击两次预览按钮或者编辑按钮，则正常。这个 bug 暂时没时间修复。\n\n!! 搜索\n\n该页面提供搜索、过滤、批量删除的功能。\n\n在过滤面板，当以时间为条件进行过滤时，你可以输入一个日期，比如 `2022` `202206` `20220601`。\n\n!! 清理机\n\n> 原本该页面要做成「即将到来」的任务，但是边栏中含有该功能，且方便随时查看，所以主界面不做重复的功能。\n\n该按钮可清理残留的 todolist 数据。如果使用查看工具栏中的删除按钮删除条目时，该任务的 todolist 数据并未删除。\n\n附加功能：如果在主界面添加了一个错误的任务，将它拖动到「清理机」即可删除。\n\n注意事项：使用 GTD 自带的删除功能，将直接永久删除任务数据。\n"},"$:/plugins/xp/aggregation-gtd/settings":{"title":"$:/plugins/xp/aggregation-gtd/settings","text":"; Content Type\n: <$checkbox tiddler=\"$:/config/xp/aggregation-gtd/ContentType\" field=\"text\" checked=\"text/x-markdown\" unchecked=\"\" default=\"\" uncheckactions=\"<$action-deletetiddler $tiddler='$:/config/xp/aggregation-gtd/ContentType'/>\"> Use Markdown</$checkbox>\n\n> 勾选该选项，创建的任务将使用 [[Markdown|$:/plugins/tiddlywiki/markdown]] 文本 `text/x-markdown`。\n\n; Auto Preview\n: <$checkbox tiddler=\"$:/config/xp/aggregation-gtd/AutoPreview\" field=\"text\" checked=\"yes\" unchecked=\"no\" default=\"yes\" checkactions=\"<$action-deletetiddler $tiddler='$:/config/xp/aggregation-gtd/AutoPreview'/>\"> Easy Edit automatically enters preview mode</$checkbox>\n"},"$:/config/shortcuts/sidebar-things":{"title":"$:/config/shortcuts/sidebar-things","text":"alt-T"},"$:/xp/aggregation-gtd/styles":{"title":"$:/xp/aggregation-gtd/styles","tags":"$:/tags/Stylesheet","text":"\\define sidebarbreakpoint()\n<$text text={{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}}/>\n\\end\n\n/*\n** Tiddler\n*/\n\n[data-tiddler-title=\"GettingThingsDone\"],\n[data-tiddler-title=\"GettingThingsDone\"] .tc-titlebar {\n    background-color: #f2f5fe;\n<$list filter=\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\" variable=\"ignore\">\n    background-color: #000000;\n</$list>\n}\n\n[data-tiddler-title=\"GettingThingsDone\"] {\n    border: 1px solid #f2f5fe;\n<$list filter=\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\" variable=\"ignore\">\n    border: 1px solid #000000;\n</$list>\n}\n\n\n/*\n** Function Tabs\n*/\n\n.xp-gtd-tabs {\n    font-size: 14px;\n    white-space: nowrap;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    height: 30px;\n    line-height: 30px;\n}\n\n.xp-gtd-btn {\n    margin: 0 1px;\n    border: none;\n    border-radius: 9999px;\n    padding: .3em .9em;\n    color: <<colour muted-foreground>>;\n    fill: <<colour muted-foreground>>;\n}\n\n<$reveal state=\"$:/config/xp/aggregation-gtd/FunctionTabs\" type=\"match\" text=\"4\">\n\n.xp-gtd-btn-quadrant {\n    color: <<colour primary>>;\n    fill: <<colour primary>>;\n    opacity: 0.8;\n}\n\n</$reveal> <$reveal state=\"$:/config/xp/aggregation-gtd/FunctionTabs\" type=\"match\" text=\"s\">\n\n.xp-gtd-btn-search {\n    color: <<colour primary>>;\n    fill: <<colour primary>>;\n    opacity: 0.8;\n}\n\n</$reveal>\n\n.xp-gtd-caption svg {\n    width: 1em;\n    height: 1em;\n}\n\n\n/*\n** Lists\n*/\n\n.xp-gtd-lists {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    flex-wrap: wrap;\n    flex: 2 1 calc(100% / 2);\n    width: 100%;\n}\n\n.xp-gtd-lists>* {\n    -webkit-box-flex: 0;\n    -ms-flex: 0 0 auto;\n    flex: 0 0 auto;\n    padding: 0 5px;\n}\n\n.xp-gtd-lists::after {\n    content: '';\n    -webkit-box-flex: 0;\n    -ms-flex: 0 0 10px;\n    flex: 0 0 10px;\n}\n\n/* List */\n\n.xp-gtd-list {\n    width: 50%;\n    height: 364px;\n    margin-bottom: 10px;\n}\n\n.xp-gtd-list>* {\n    padding: 0 8px;\n    background-color: #ffffff;\n<$list filter=\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\" variable=\"ignore\">\n    background-color: #1a1a1a;\n</$list>\n}\n\n.xp-gtd-list header {\n    line-height: 36px;\n    font-size: 14px;\n    font-weight: bold;\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n    padding: 3px 16px;\n    position: relative;\n}\n\n.xp-gtd-list-header-droppable {\n    width: 100%;\n}\n\n.xp-gtd-list-header-btn {\n    width: 100%;\n    text-align: left;\n}\n\n.xp-gtd-list ul {\n    list-style: none;\n    margin: 0;\n    height: calc(364px - 42px - 46px);\n    overflow: hidden;\n    padding: 3px 16px;\n}\n\n.xp-gtd-list .py-todo {\n    font-size: 16px;\n    padding: 3px 0 2px;\n}\n\n.xp-gtd-list footer {\n    line-height: 36px;\n    padding: 3px 16px;\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n}\n\n.xp-gtd-addtodo button svg {\n    height: 0.8em;\n    width: 0.8em;\n    fill: <<colour tiddler-controls-foreground>>;\n}\n\n.xp-gtd-addtodo button:hover svg {\n    fill: <<colour tiddler-controls-foreground-hover>>;\n}\n\n.xp-gtd-addtodo .py-drop-down .tc-btn-invisible svg {\n    fill: <<colour foreground>>;\n    height: 1em;\n    width: 1em;\n}\n\n.xp-gtd-list-notask {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: justify;\n    width: 100%;\n    height: calc(364px - 42px - 46px - 2px);\n    margin: 0 auto;\n    color: #838383;\n}\n\n.xp-gtd-list-quadrant {\n    background-color: #ffffff;\n    color: #333333;\n<$list filter=\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\" variable=\"ignore\">\n    background-color: #1a1a1a;\n    color: #ffffff;\n</$list>\n    border-radius: 20px;\n    padding: 3px 25px 10px;\n    <<box-shadow \"0 0.1px 1px rgba(0, 0, 0, 0.09)\">>\n}\n\n\n/*\n** Header\n*/\n\n.xp-gtd-q1,\n.xp-gtd-q2,\n.xp-gtd-q3,\n.xp-gtd-q4 {\n    font-weight: 500;\n    font-size: 13px;\n    line-height: 18px;\n    vertical-align: middle;\n}\n\n.xp-gtd-q1 svg,\n.xp-gtd-q2 svg,\n.xp-gtd-q3 svg,\n.xp-gtd-q4 svg {\n    width: 1.37em;\n    height: 1.37em;\n    font-size: 1.37em;\n    margin-right: 2px;\n}\n\n.xp-gtd-q1,\n.py-drop-down .xp-gtd-q1,\n.py-drop-down .xp-gtd-q1 svg {\n    color: #FF5F68;\n    fill: #FF5F68;\n}\n\n.xp-gtd-q2,\n.py-drop-down .xp-gtd-q2,\n.py-drop-down .xp-gtd-q2 svg {\n    color: #FFB000;\n    fill: #FFB000;\n}\n\n.xp-gtd-q3,\n.py-drop-down .xp-gtd-q3,\n.py-drop-down .xp-gtd-q3 svg {\n    color: #4772FA;\n    fill: #4772FA;\n}\n\n.xp-gtd-q4,\n.py-drop-down .xp-gtd-q4,\n.py-drop-down .xp-gtd-q4 svg {\n    color: #0CCE9C;\n    fill: #0CCE9C;\n}\n\n\n/*\n** Input\n*/\n\n.xp-gtd-addtodo {\n    display: flex;\n    width: 100%;\n}\n\n.xp-gtd-addtodo>div {\n    margin: 2px;\n    flex-grow: 0;\n}\n\n.xp-gtd-addtodo .xp-gtd-addtodo-textbox {\n    flex-grow: 1;\n}\n\n/* 4 quadrant inputbox */\n\n.xp-gtd-addtodo-textbox-input {\n    width: 100%;\n    padding-left: 5px;\n    border: none;\n    border-bottom: 1px dotted <<colour tiddler-controls-foreground>>;\n}\n\n.xp-gtd-addtodo-textbox-input:focus {\n    outline: none;\n    border-bottom: 1px solid <<colour primary>>;\n    background: transparent;\n}\n\n/* quadrant list inputbox */\n\n.xp-gtd-list-quadrant .xp-gtd-addtodo {\n    border: 1px solid <<colour tiddler-editor-border>> !important;\n    border-radius: 4px !important;\n    line-height: 25px;\n    padding-right: 10px;\n}\n\n.xp-gtd-list-quadrant .xp-gtd-addtodo:focus-within {\n    border: 1px solid <<colour primary>> !important;\n    outline: none !important;\n}\n\n.xp-gtd-list-quadrant .xp-gtd-addtodo button svg {\n    height: 1.1em;\n    width: 1.1em;\n}\n\n.xp-gtd-list-quadrant .xp-gtd-addtodo .xp-gtd-addtodo-textbox-input {\n    width: 100%;\n    line-height: 25px;\n    border: none !important;\n    outline: none !important;\n}\n\n.xp-gtd-list-quadrant .xp-gtd-addtodo .xp-gtd-addtodo-textbox-input:focus-within {\n    border: none !important;\n}\n\n\n/*\n** EditTemplate\n*/\n\n.xp-gtd-editor {\n    padding: 0 27px !important;\n    margin: 0 !important;\n    <<box-shadow \"none !important\">>\n}\n\n.xp-gtd-editor .tc-editor-toolbar {\n    width: 0 !important;\n    height: 0 !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    visibility: hidden !important;\n    display: none !important;\n}\n\n.xp-gtd-editor-body {\n    margin-top: -0.6em;\n}\n\n.xp-gtd-editor-body .CodeMirror-linenumbers,\n.xp-gtd-editor-body .CodeMirror-gutter,\n.xp-gtd-editor-body .CodeMirror-gutter-elt {\n    display: none !important;\n    visibility: hidden !important;\n}\n\n.xp-gtd-editor-body .CodeMirror-lines {\n    min-height: 100px !important;\n}\n\n.xp-gtd-editor-body .CodeMirror-wrap {\n    border-left: none !important;\n}\n\n\n/*\n** Search\n*/\n\n.xp-gtd-search {\n    background-color: #ffffff;\n    color: #333;\n<$list filter=\"[{$:/palette}get[color-scheme]] +[else[light]match[dark]]\" variable=\"ignore\">\n    background-color: #1a1a1a;\n    color: #ffffff;\n</$list>\n    border-radius: 20px;\n    padding: 3px 25px 10px;\n    <<box-shadow \"0 0.1px 1px rgba(0, 0, 0, 0.09)\">>\n}\n\n.xp-gtd-filter svg {\n    width: 1em !important;\n    height: 1em !important;\n    font-size: 1em !important;\n    margin-right: 0 !important;\n}\n\n\n/*\n** SideBar\n*/\n\n.xp-gtd-sidebar .py-todo {\n    font-size: 14px;\n    padding: 2px 0 1px;\n}\n\n.xp-gtd-sidebar-addtodo {\n\t\tpadding-right: 8px;\n}\n\n.xp-gtd-sidebar-addtodo .xp-gtd-addtodo {\n    border: 1px solid <<colour tiddler-editor-border>> !important;\n    border-radius: 4px !important;\n    line-height: 22px;\n    padding-right: 10px;\n}\n\n.xp-gtd-sidebar-addtodo .xp-gtd-addtodo:focus-within {\n    border: 1px solid <<colour primary>> !important;\n    outline: none !important;\n}\n\n.xp-gtd-sidebar-addtodo .xp-gtd-addtodo button svg {\n    height: 1.1em;\n    width: 1.1em;\n}\n\n.xp-gtd-sidebar-addtodo .xp-gtd-addtodo .xp-gtd-addtodo-textbox-input {\n    width: 100%;\n    line-height: 22px;\n    border: none !important;\n    outline: none !important;\n}\n\n.xp-gtd-sidebar-addtodo .xp-gtd-addtodo .xp-gtd-addtodo-textbox-input:focus-within {\n    border: none !important;\n}\n\n.xp-gtd-sidebar-addtodo .xp-gtd-q1 svg,\n.xp-gtd-sidebar-addtodo .xp-gtd-q2 svg,\n.xp-gtd-sidebar-addtodo .xp-gtd-q3 svg,\n.xp-gtd-sidebar-addtodo .xp-gtd-q4 svg {\n    height: 1.1em;\n    width: 1.1em;\n    font-size: 1.1em;\n}\n\n.xp-gtd-sidebar-addtodo .py-drop-down .tc-btn-invisible svg {\n    margin-right: 0;\n}\n\n.xp-gtd-sidebar-addtodo .py-drop-down .xp-gtd-q1 svg {\n    fill: #FF5F68;\n}\n\n.xp-gtd-sidebar-addtodo .py-drop-down .xp-gtd-q2 svg {\n    fill: #FFB000;\n}\n\n.xp-gtd-sidebar-addtodo .py-drop-down .xp-gtd-q3 svg {\n    fill: #4772FA;\n}\n\n.xp-gtd-sidebar-addtodo .py-drop-down .xp-gtd-q4 svg {\n    fill: #0CCE9C;\n}\n\n.xp-gtd-dd {\n    margin-left: 2em;\n}\n\n.xp-gtd-upcoming {\n    font-weight: 500;\n    font-size: 13px;\n    line-height: 18px;\n    vertical-align: middle;\n    color: #7f4bca;\n    fill: #7f4bca;\n}\n\n.xp-gtd-upcoming svg {\n    width: 1.12em;\n    height: 1.12em;\n    margin-right: 2px;\n}\n\n.xp-gtd-upcoming,\n.xp-gtd-upcoming button,\n.xp-gtd-upcoming svg {\n    color: #7f4bca;\n    fill: #7f4bca;\n}\n\n\n@media (min-width: <<sidebarbreakpoint>>) {\n<$list filter=\"[[$:/themes/tiddlywiki/vanilla/options/sidebarlayout]get[text]] +[else[fluid-fixed]!match[fixed-fluid]]\" variable=\"ignore\">\n\n    .xp-gtd-list-quadrant {\n        align-items: center;\n        margin: 0 auto;\n        max-width: 700px;\n    }\n    \n    .xp-gtd-search {\n        align-items: center;\n        max-width: 700px;\n        margin: 0 auto;\n    }\n    \n    .xp-gtd-sidebar {\n        max-width: 650px;\n    }\n\n</$list>\n}\n\n@media (max-width: <<sidebarbreakpoint>>) {\n\n    .xp-gtd-lists {\n        display: block;\n        flex: none;\n    }\n\n    .xp-gtd-lists>* {\n        padding: 0;\n    }\n\n    .xp-gtd-list {\n        width: 100%;\n    }\n\n    .xp-gtd-list>* {\n        padding: 0 8px;\n    }\n\n    .xp-gtd-list header,\n    .xp-gtd-list ul,\n    .xp-gtd-list footer {\n        padding: 3px 7px;\n    }\n\n    .xp-gtd-list-quadrant,\n    .xp-gtd-search {\n        border-radius: 8px;\n        padding: 3px 7px 10px;\n    }\n\n    .xp-gtd-editor {\n        padding: 0 !important;\n    }\n\n}\n"},"$:/xp/aggregation-gtd/ItemTemplate":{"title":"$:/xp/aggregation-gtd/ItemTemplate","text":"\\define save-actions()\n  <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<div class={{{ [all[current]tag[done]then[py-todo py-completed]else[py-todo]] }}}>\n  <$checkbox tag=\"done\" actions=<<save-actions>>>\n    {{||$:/plugins/nico/projectify/ui/buttons/Checkbox}}\n    <$link to={{!!title}}>\n      <$view field='caption'><$view field='title'/></$view>\n      <$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n      <$list filter=\"[<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\" variable=\"ignore\">\n  {{||$:/xp/images/pie-todolist}}\n      </$list>\n      </$vars>\n      <$list filter=\"[all[current]!text[]]\">\n  <span class=\"py-todo-text-icon\">\n    {{$:/plugins/nico/projectify/images/file}}\n  </span>\n      </$list>\n    </$link>\n  </$checkbox>\n  {{||$:/xp/aggregation-gtd/ui/EditButton}}\n  {{||$:/xp/aggregation-gtd/ui/TodoActions}}\n</div>\n"},"$:/xp/aggregation-gtd/PageControls/ItemTemplate":{"title":"$:/xp/aggregation-gtd/PageControls/ItemTemplate","text":"<$link to={{!!title}}>\n\t{{||$:/xp/aggregation-gtd/ui/TodoCaption}}\n\t<$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n\t<$list filter=\"[<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\" variable=\"ignore\">\n{{||$:/xp/images/pie-todolist}}\n\t</$list>\n\t</$vars>\n\t<$list filter=\"[all[current]!text[]]\">\n<span class=\"py-todo-text-icon\">\n{{$:/plugins/nico/projectify/images/file}}\n</span>\n\t</$list>\n</$link>\n"},"$:/xp/aggregation-gtd/SideBar/ItemTemplate":{"title":"$:/xp/aggregation-gtd/SideBar/ItemTemplate","text":"\\define save-actions()\n  <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<div class={{{ [all[current]tag[done]then[py-todo py-completed]else[py-todo]] }}}>\n  <$checkbox tag=\"done\" actions=<<save-actions>>>\n    {{||$:/plugins/nico/projectify/ui/buttons/Checkbox}}\n    <$link to={{!!title}}>\n      <$view field='caption'><$view field='title'/></$view>\n      <$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n      <$list filter=\"[<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\" variable=\"ignore\">\n  {{||$:/xp/images/pie-todolist}}\n      </$list>\n      </$vars>\n      <$list filter=\"[all[current]!text[]]\">\n  <span class=\"py-todo-text-icon\">\n    {{$:/plugins/nico/projectify/images/file}}\n  </span>\n      </$list>\n    </$link>\n  </$checkbox>\n  <span class=\"tc-muted\" style=\"float:right;\">{{||$:/xp/aggregation-gtd/ui/ManagerView/TodoDueDate}}</span>\n</div>\n"},"$:/xp/aggregation-gtd/quadrant/ItemTemplate":{"title":"$:/xp/aggregation-gtd/quadrant/ItemTemplate","text":"\\define save-actions()\n  <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<div class=\"tc-menu-list-item\">\n<div class={{{ [all[current]tag[done]then[py-todo py-completed]else[py-todo]] }}}>\n  <$checkbox tag=\"done\" actions=<<save-actions>>>\n    {{||$:/plugins/nico/projectify/ui/buttons/Checkbox}}\n    <$link to={{!!title}}>\n      <$view field='caption'><$view field='title'/></$view>\n      <$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n      <$list filter=\"[<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\" variable=\"ignore\">\n  {{||$:/xp/images/pie-todolist}}\n      </$list>\n      </$vars>\n      <$list filter=\"[all[current]!text[]]\">\n  <span class=\"py-todo-text-icon\">\n    {{$:/plugins/nico/projectify/images/file}}\n  </span>\n      </$list>\n    </$link>\n  </$checkbox>\n    <span class=\"py-todo-actions\">\n  {{||$:/xp/aggregation-gtd/ui/EditButton}}\n  {{||$:/xp/aggregation-gtd/ui/DeleteButton}}\n  {{||$:/xp/aggregation-gtd/ui/TodoActions}}\n    </span>\n</div>\n</div>"},"$:/xp/aggregation-gtd/today/ItemTemplate":{"title":"$:/xp/aggregation-gtd/today/ItemTemplate","text":"\\whitespace trim\n\\define save-actions()\n<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<div class={{{ [all[current]tag[done]then[py-todo py-completed]else[py-todo]] }}}>\n  <$checkbox tag=\"done\" actions=<<save-actions>>>\n    {{||$:/plugins/nico/projectify/ui/buttons/Checkbox}}\n    <b class=\"tc-tiny-gap-right\"><$view field=created format=date template=\"0hh:0mm\"/></b>\n    <$link to={{!!title}}>\n      {{||$:/xp/aggregation-gtd/ui/TodoCaption}}\n      <$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n      <$list filter=\"[<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\" variable=\"ignore\">\n  {{||$:/xp/images/pie-todolist}}\n      </$list>\n      </$vars>\n      <$list filter=\"[all[current]!text[]]\">\n  <span class=\"py-todo-text-icon\">\n    {{$:/plugins/nico/projectify/images/file}}\n  </span>\n      </$list>\n    </$link>\n  </$checkbox>\n</div>\n"},"$:/xp/aggregation-gtd/ui/AddTodo":{"title":"$:/xp/aggregation-gtd/ui/AddTodo","text":"\\define lingo-base() $:/language/projectify/\n\n\\define newItemTags()\n[[$(currentList)$]] GTD\n\\end\n\n\\define add-todo-actions()\n<$list filter=\"[<stateTiddler>get[todo-name]trim[]!is[blank]]\" variable=\"ignore\">\n  <$action-createtiddler\n    $basetitle={{{ [[$:/gtd/]addsuffix<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">] }}}\n    $savetitle=\"$:/temp/projectify/new-todo\"\n    tags=<<newItemTags>>\n    caption={{{ [<stateTiddler>get[todo-name]] }}}\n  />\n\n  <$action-setfield $tiddler={{$:/temp/projectify/new-todo}} due={{{ [<stateTiddler>get[due]] }}}/>\n  <$reveal state=\"$:/config/xp/aggregation-gtd/ContentType\" type=\"match\" text=\"text/x-markdown\">\n  <$action-setfield $tiddler={{$:/temp/projectify/new-todo}} type=\"text/x-markdown\"/>\n  </$reveal>\n  <$action-listops $tiddler=<<currentList>> $subfilter={{$:/temp/projectify/new-todo}}/>\n  <$action-deletefield $tiddler=<<stateTiddler>> todo-name due />\n\n  <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n</$list>\n\\end\n\n\\define cancel-input-actions() <$action-deletefield $tiddler=<<stateTiddler>> todo-name />\n\n<$vars stateTiddler={{{ [[$:/temp/gtd/add-todo/]addsuffix<currentList>] }}}>\n  <div class=\"xp-gtd-addtodo\">\n  <div class=\"xp-gtd-addtodo-textbox\">\n    <$keyboard key=\"escape\" actions=<<cancel-input-actions>>>\n    <$keyboard key=\"enter\" actions=<<add-todo-actions>>>\n      <$edit-text\n  class=\"xp-gtd-addtodo-textbox-input\"\n  tiddler=<<stateTiddler>>\n  field=\"todo-name\"\n  />\n    </$keyboard>\n    </$keyboard>\n  </div>\n\n  <$list filter=\"[<stateTiddler>get[todo-name]trim[]!is[blank]]\" variable=\"ignore\" storyview=\"pop\">\n  <$button\n    class=\"tc-btn-invisible tc-tiny-gap-left\"\n    actions=<<add-todo-actions>>\n    tooltip=\"Add new item\"\n    aria-label=\"new item\"\n  >\n    {{$:/core/images/new-button}}\n  </$button>\n  <i class=\"tc-tiny-gap\"/>\n    <$vars currentTiddler=<<stateTiddler>>>\n  <$transclude tiddler=\"$:/xp/aggregation-gtd/ui/buttons/DueDate\" mode=\"inline\"/>\n    </$vars>\n  </$list>\n  </div>\n</$vars>\n"},"$:/xp/aggregation-gtd/ui/DeleteButton":{"title":"$:/xp/aggregation-gtd/ui/DeleteButton","text":"\\whitespace trim\n<$button\n  actions=<<gtdDeleteActions>>\n  class=\"py-btn tc-tiny-gap-left\"\n  tooltip=\"删除\"\n  aria-label=\"delete item\"\n>\n  <span style=\"font-size:0.85em;opacity:0.55;\">{{$:/core/images/delete-button}}</span>\n</$button>"},"$:/xp/aggregation-gtd/ui/DoneButton":{"title":"$:/xp/aggregation-gtd/ui/DoneButton","text":"\\whitespace trim\n\\define save-actions()\n<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<$list filter=\"[all[current]tag[GTD]!tag[done]]\">\n<$button class=\"py-btn tc-tiny-gap-left\" tooltip=\"完成\" aria-label=\"done item\">\n<span style=\"line-height:1em;opacity:0.55;\">{{$:/core/images/done-button}}</span>\n<$action-listops $tags=\"done\"/>\n<<save-actions>>\n</$button>\n</$list>\n<$list filter=\"[all[current]tag[GTD]tag[done]]\">\n<$button class=\"py-btn tc-tiny-gap-left\" tooltip=\"取消完成\" aria-label=\"undone item\">\n<span style=\"fill:#2da562;\">{{$:/core/images/done-button}}</span>\n<$action-listops $tags=\"-done\"/>\n<<save-actions>>\n</$button>\n</$list>\n"},"$:/xp/aggregation-gtd/ui/EasyEditButton":{"title":"$:/xp/aggregation-gtd/ui/EasyEditButton","text":"\\whitespace trim\n<$let edit-preview-state={{{ [{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualify \"$:/state/showeditpreview\">] }}}>\n<$reveal state=<<easyedit-state>> type=\"nomatch\" text=\"yes\">\n<$button class=\"py-btn tc-tiny-gap-left\" tooltip=\"Easy edit\" aria-label=\"edit item\">\n<span style=\"opacity:0.6;\">{{$:/xp/images/edit}}</span>\n<$action-navigate $to=<<currentTiddler>> $scroll=\"yes\"/>\n<$action-sendmessage $message=\"tm-fold-tiddler\" $param=<<currentTiddler>> foldedState=<<folded-state>>/>\n<$action-setfield $tiddler=<<easyedit-state>> text=\"yes\"/>\n<$reveal state=\"$:/config/xp/aggregation-gtd/AutoPreview\" type=\"match\" text=\"yes\">\n<$action-setfield $tiddler=<<edit-preview-state>> $value=\"yes\"/>\n</$reveal>\n</$button>\n</$reveal>\n<$reveal state=<<easyedit-state>> type=\"match\" text=\"yes\">\n<$button class=\"py-btn tc-tiny-gap-left\" tooltip=\"Exit edit\" aria-label=\"edit item\">\n<span style=\"fill:#4772fa;\">{{$:/xp/images/edit}}</span>\n<$reveal state=\"$:/config/xp/aggregation-gtd/AutoPreview\" type=\"match\" text=\"yes\">\n<$action-setfield $tiddler=<<edit-preview-state>> $value=\"no\"/>\n</$reveal>\n<$action-setfield $tiddler=<<easyedit-state>> text=\"no\"/>\n<$action-sendmessage $message=\"tm-fold-tiddler\" $param=<<currentTiddler>> foldedState=<<folded-state>>/>\n</$button>\n</$reveal>\n</$let>\n"},"$:/xp/aggregation-gtd/ui/EditButton":{"title":"$:/xp/aggregation-gtd/ui/EditButton","text":"<span class=\"py-todo-actions\">\n  <$button\n    actions=<<gtdEditActions>>\n    class=\"py-btn\"\n    tooltip=\"编辑\"\n    aria-label=\"edit item\"\n  >\n    <span style=\"opacity:0.6;\">{{$:/xp/images/edit}}</span>\n  </$button>\n</span>"},"$:/xp/aggregation-gtd/ui/EditTemplate":{"title":"$:/xp/aggregation-gtd/ui/EditTemplate","footer":"<span class=\"tc-muted\" style=\"float:left;text-align:left;padding:.5em 0 0 1em;font-size:.9em;\"> Status: <$list filter=\"[<currentItem>!tag[done]]\"><span style=\"color:#cc3333;\">undone</span></$list><$list filter=\"[<currentItem>removeprefix[$:/]addprefix[$:/todolist/data/status/]search:text[undone]]\"><$list filter=\"[<currentItem>!tag[done]]\"> / </$list><span style=\"color:#cc3333;\">todolist</span></$list><$list filter=\"[<currentItem>tag[done]]\"><$list filter=\"[<currentItem>removeprefix[$:/]addprefix[$:/todolist/data/status/]!search:text[undone]]\"><span style=\"color:#00a565;\">completed</span></$list></$list></span><span class=\"py-todo-actions\"><$button tooltip=\"Delete all information about this item\" class=\"py-btn\"><span style=\"opacity:.8;\">{{$:/core/images/delete-button}}</span><$action-deletetiddler $tiddler=<<currentItem>>/><$action-deletetiddler $filter=\"[prefix[$:/todolist/data]suffix<td-baseName>]\"/><$action-sendmessage $message=\"tm-close-tiddler\"/><$action-listops $tiddler=<<currentList>> $subfilter=\"+[remove<currentItem>]\"/></$button><$button tooltip=\"Confirm changes to this item. ctrl-Enter\" class=\"py-btn\" style=\"margin:0 1em 0 .8em;\">{{$:/core/images/done-button}}<$list filter=\"[<currentItem>get[caption]!match{$:/state/gtd/edit-caption}]\"><$action-setfield $tiddler=<<currentItem>> $field=\"caption\" $value={{$:/state/gtd/edit-caption}}/></$list><$action-sendmessage $message=\"tm-close-tiddler\"/></$button></span>","text":"\\define save-tiddler-actions()\n<$action-sendmessage $message=\"tm-add-tag\" $param={{{ [<newTagNameTiddler>get[text]] }}}/>\n<$action-sendmessage $message=\"tm-add-field\" $name={{{ [<newFieldNameTiddler>get[text]] }}} $value={{{ [<newFieldValueTiddler>get[text]] }}}/>\n<<delete-edittemplate-state-tiddlers>>\n<$action-sendmessage $message=\"tm-save-tiddler\"/>\n<!-- Save & Close -->\n<$action-setfield $tiddler=<<currentItem>> $field=\"caption\" $value={{$:/state/gtd/edit-caption}}/>\n<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n<$action-sendmessage $message=\"tm-close-tiddler\"/>\n\\end\n\n\\define config-visibility-title()\n$:/config/EditorToolbarButtons/Visibility/$(currentTiddler)$\n\\end\n\n\\define importFileActions()\n<$action-popup $state=<<importState>> $coords=\"(0,0,0,0)\" $floating=\"yes\"/>\n\\end\n\n<$set name=\"currentItem\" value={{$:/state/gtd/edit}}>\n<$set name=\"td-baseName\" value={{{ [<currentItem>removeprefix[$:/]] }}}>\n\n<!-- Editor -->\n<div data-tiddler-title=<<currentItem>> data-tags={{!!tags}} class=\"tc-tiddler-frame tc-tiddler-edit-frame tc-tiddler-exists tc-tiddler-system xp-gtd-editor\">\n<$fieldmangler>\n<$vars storyTiddler=<<currentItem>>>\n<$keyboard key=\"((save-tiddler))\" actions=<<save-tiddler-actions>> tag=\"div\">\n\n<$edit-text tiddler=\"$:/state/gtd/edit-caption\" tag=\"input\" class=\"tc-titlebar tc-edit-texteditor\" focus=\"yes\" tabindex={{$:/config/EditTabIndex}} cancelPopups=\"yes\"/>\n\n<!-- $:/core/ui/EditTemplate/body/default -->\n<div class=\"xp-gtd-editor-body\">\n<$set name=\"edit-preview-state\" value={{{ [{$:/config/ShowEditPreview/PerTiddler}!match[yes]then[$:/state/showeditpreview]] :else[<qualify \"$:/state/showeditpreview\">] }}}>\n<$vars importTitle=<<qualify $:/ImportImage>> importState=<<qualify $:/state/ImportImage>> >\n<$dropzone importTitle=<<importTitle>> autoOpenOnImport=\"no\" contentTypesFilter={{$:/config/Editor/ImportContentTypesFilter}} class=\"tc-dropzone-editor\" enable={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}} filesOnly=\"yes\" actions=<<importFileActions>> ><$reveal stateTitle=<<edit-preview-state>> type=\"match\" text=\"yes\" tag=\"div\">\n<$tiddler tiddler=<<currentItem>>>\n<div class=\"tc-tiddler-preview\">\n\n<$transclude tiddler=\"$:/core/ui/EditTemplate/body/editor\" mode=\"inline\"/>\n\n<div class=\"tc-tiddler-preview-preview\">\n\n<$transclude tiddler={{$:/state/editpreviewtype}} mode=\"inline\">\n\n<$transclude tiddler=\"$:/core/ui/EditTemplate/body/preview/output\" mode=\"inline\"/>\n\n</$transclude>\n\n</div>\n\n</div>\n</$tiddler>\n</$reveal>\n\n<$reveal stateTitle=<<edit-preview-state>> type=\"nomatch\" text=\"yes\" tag=\"div\">\n\n<$edit\n\ttiddler=<<currentItem>>\n  field=\"text\"\n  class=\"tc-edit-texteditor tc-edit-texteditor-body\"\n  placeholder={{$:/language/EditTemplate/Body/Placeholder}}\n  tabindex={{$:/config/EditTabIndex}}\n  focus={{{ [{$:/config/AutoFocus}match[text]then[true]] ~[[false]] }}}\n  cancelPopups=\"yes\"\n  fileDrop={{{ [{$:/config/DragAndDrop/Enable}match[no]] :else[subfilter{$:/config/Editor/EnableImportFilter}then[yes]else[no]] }}}\n><$set\n\n  name=\"targetTiddler\"\n  value=<<currentItem>>\n\n><$list\n\n  filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorToolbar]!has[draft.of]remove[$:/core/ui/EditorToolbar/editor-height $:/xp/ui/EditorToolbar/annotate]]\"\n\n><$reveal\n\n  type=\"nomatch\"\n  state=<<config-visibility-title>>\n  text=\"hide\"\n  class=\"tc-text-editor-toolbar-item-wrapper\"\n\n><$transclude\n\n  tiddler=\"$:/core/ui/EditTemplate/body/toolbar/button\"\n  mode=\"inline\"\n\n/></$reveal></$list><$list\n\n  filter=\"[all[shadows+tiddlers]tag[$:/tags/EditorTools]!has[draft.of]]\"\n\n><$list\n\tfilter={{!!condition}}\n\tvariable=\"list-condition\"\n><$transclude/>\n</$list></$list></$set></$edit>\n\n</$reveal>\n</$dropzone>\n</$vars>\n</$set>\n</div>\n\n</$keyboard>\n</$vars>\n</$fieldmangler>\n<<gtd-todolist-ui caption:\"Todolist {{||$:/xp/images/pie-todolist}}\">>\n</div>\n\n</$set>\n</$set>"},"$:/xp/aggregation-gtd/ui/FilterButtons/delete":{"title":"$:/xp/aggregation-gtd/ui/FilterButtons/delete","text":"\\whitespace trim\n<$button class=\"tc-btn-invisible\">\n<$action-confirm $message=\"Are you sure you wish to delete these tiddlers?\">\n    <$list filter=<<searchFilter>>>\n  <$action-sendmessage $message=\"tm-close-tiddler\" param=<<currentTiddler>>/>\n    <$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}} td-basePath=\"$:/todolist/data\">\n  <$action-deletetiddler $filter=\"[prefix<td-basePath>suffix<td-baseName>]\"/>\n    </$vars>\n    <$list filter=\"$:/q1 $:/q2 $:/q3 $:/q4\" variable=\"qList\">\n  <$action-listops $tiddler=<<qList>> $subfilter=\"-[<currentTiddler>]\"/>\n    </$list>\n  <$action-deletetiddler $tiddler=<<currentTiddler>>/>\n    </$list>\n</$action-confirm>\n{{$:/core/images/delete-button}}\n</$button>\n"},"$:/xp/aggregation-gtd/ui/ManagerView/TodoDueDate":{"title":"$:/xp/aggregation-gtd/ui/ManagerView/TodoDueDate","text":"\\define lingo-base() $:/language/projectify/\n\n<$list filter=<<py-is-overdue>>>\n    <$list\n      filter=<<py-is-due-yesterday>>\n      emptyMessage=\"\"\"<$view field=\"due\" format=\"relativedate\"/>\"\"\"\n    >\n<<lingo Yesterday>>\n    </$list>\n</$list>\n<$list filter=<<py-is-not-overdue>>>\n  <$list filter=<<py-is-due-today>>>\n    <<lingo Today>>\n  </$list>\n  <$list filter=<<py-is-due-later>>>\n<$list\n  filter=<<py-is-due-tomorrow>>\n  emptyMessage=\"\"\"<$view field=\"due\" format=\"date\" template={{$:/language/xp/aggregation-gtd/DateFormat}}/>\"\"\"\n>\n  <<lingo Tomorrow>>\n</$list>\n  </$list>\n</$list>\n"},"$:/xp/aggregation-gtd/ui/Search/gtd-actions":{"title":"$:/xp/aggregation-gtd/ui/Search/gtd-actions","text":"\\import $:/xp/ui/ViewTemplate/gtd-actions\n\\whitespace trim\n\n<div class=\"py-todo-heading\">\n{{||$:/xp/aggregation-gtd/ui/buttons/TodoDueDate}}\n{{||$:/xp/aggregation-gtd/ui/buttons/TodoQuadrant}}\n{{||$:/xp/aggregation-gtd/ui/DeleteButton}}\n{{||$:/xp/aggregation-gtd/ui/DoneButton}}\n{{||$:/xp/aggregation-gtd/ui/TodolistButton}}\n<$button message=\"tm-edit-tiddler\" tooltip={{$:/language/Buttons/Edit/Hint}} aria-label={{$:/language/Buttons/Edit/Caption}} class=\"py-btn py-pie tc-tiny-gap-left\">{{$:/core/images/edit-button}}</$button>\n<$button to=<<currentTiddler>> tooltip=\"Open this tiddler\" class=\"py-btn py-pie tc-tiny-gap-left\">{{$:/core/images/link}}</$button>\n</div>"},"$:/xp/aggregation-gtd/ui/Search":{"title":"$:/xp/aggregation-gtd/ui/Search","text":"\\import $:/xp/aggregation-gtd/macros\n\\whitespace trim\n\n\\define lingo-base() $:/language/Search/\n\\define storeTitle() $:/temp/search/aggregation-gtd\n\\define cancel-search-actions() <$action-deletetiddler $filter=\"[<storeTitle>] [<filterState>] [<quadrantStatus>] [<doneStatus>] [<textStatus>] [<todolistStatus>] [<scheduleStatus>] [<fieldTiddler>] [<dateStatus>] [<valueTiddler>]\"/>\n\n\\define defaultView() $:/config/xp/aggregation-gtd/DefaultView\n\n\\define filterState() $:/state/filter/aggregation-gtd\n\\define quadrantStatus() $:/temp/filter/aggregation-gtd/Quadrant\n\\define doneStatus() $:/temp/filter/aggregation-gtd/Done\n\\define textStatus() $:/temp/filter/aggregation-gtd/Text\n\\define todolistStatus() $:/temp/filter/aggregation-gtd/Todolist\n\\define scheduleStatus() $:/temp/filter/aggregation-gtd/Schedule\n\\define fieldTiddler() $:/temp/filter/aggregation-gtd/Field\n\\define dateStatus() $:/temp/filter/aggregation-gtd/Date\n\\define valueTiddler() $:/temp/filter/aggregation-gtd/FieldValue\n\\define input-accept-actions-date() <$action-setfield $tiddler=<<filterState>> filter={{{ [<dateStatus>get[text]addprefix<pt>addsuffix<st>] }}}/>\n\\define cancel-datefilter-actions() <$action-deletefield $tiddler=<<dateStatus>> text/>\n\n\\define toggleViewButton()\n\\whitespace trim\n<$reveal state=<<defaultView>> default=\"gtd\" type=\"nomatch\" text=\"manager\">\n<$button tooltip=\"Switching to manager view\" class=\"tc-btn-invisible tc-btn-mini\">\n<$action-setfield $tiddler=<<defaultView>> text=\"manager\"/>\n{{$:/xp/images/switch}}\n</$button>\n</$reveal>\n<$reveal state=<<defaultView>> type=\"match\" text=\"manager\">\n<$button tooltip=\"Switching to default view\" class=\"tc-btn-invisible tc-btn-mini\">\n<$action-setfield $tiddler=<<defaultView>> text=\"gtd\"/>\n{{$:/xp/images/switch}}\n</$button>\n</$reveal>\n\\end\n\n\\define resetConditionButton()\n\\whitespace trim\n<$list filter=\"[<quadrantStatus>has[text]] [<doneStatus>has[text]] [<textStatus>has[text]] [<todolistStatus>has[text]] [<scheduleStatus>has[text]] [<fieldTiddler>has[text]] [<dateStatus>is[tiddler]] [<filterState>has[filter]] +[limit[1]]\">\n&emsp;<$button class=\"xp-aggrfilter-dynamic-btn\">\n<$action-deletetiddler $filter=\"[<quadrantStatus>] [<doneStatus>] [<textStatus>] [<todolistStatus>] [<scheduleStatus>] [<fieldTiddler>] [<dateStatus>] [<valueTiddler>]\"/>\n<$action-deletefield $tiddler=<<filterState>> filter/>\nreset\n</$button>\n</$list>\n\\end\n\n<div class=\"xp-gtd-search\">\n\n<span class=\"xp-search xp-search-aggregation-gtd\">\n<$macrocall $name=\"keyboard-driven-input\" tiddler=<<storeTitle>> class=\"py-input input-larger\"\n    type=\"search\" tag=\"input\" filterMinLength=\"1\" focus={{$:/config/xp/aggregation/SearchAutoFocus}}\n    inputCancelActions=<<cancel-search-actions>>/>\n<i class=\"tc-tiny-gap-right\"/>\n<$reveal state=<<filterState>> type=\"nomatch\" text=\"yes\">\n<$button class=\"tc-btn-invisible\">\n<$action-setfield $tiddler=<<filterState>> text=\"yes\"/>\n{{$:/xp/images/filter}}\n</$button>\n</$reveal>\n<$set name=\"stateTiddler\" filter=\"[<storeTitle>!is[missing]has[text]]\" value=<<storeTitle>> emptyValue=<<filterState>>>\n<$reveal state=<<stateTiddler>> type=\"nomatch\" text=\"\">\n<$button class=\"tc-btn-invisible\">\n<<cancel-search-actions>>\n<$action-sendmessage $message=\"tm-focus-selector\" $param=\"\"\".xp-search-aggregation-gtd input\"\"\"/>\n{{$:/core/images/close-button}}\n</$button>\n</$reveal>\n</$set>\n<<toggleViewButton>>\n</span>\n<$vars userInput={{{ [<storeTitle>get[text]] }}}\n    quadrantRun={{{ [<quadrantStatus>get[text]] }}}\n    doneRun={{{ [<doneStatus>get[text]] }}}\n    textRun={{{ [<textStatus>get[text]] }}}\n    todolistRun={{{ [<todolistStatus>get[text]] }}}\n    scheduleRun={{{ [<scheduleStatus>get[text]] }}}\n    timeRun={{{ [<filterState>get[filter]] }}}\n    fieldRun={{{ [<fieldTiddler>has[filter]get[filter]] }}}\n    valueRun={{{ [<valueTiddler>has[filter]get[filter]] }}}\n    limitRun=\" +[limit[250]]\"\n    aggrSearch=\"[tag<aggregationTag>!sort[created]search:*<userInput>]\"\n    resultCount=\"<$count filter=<<searchFilter>>/>\">\n<$set name=\"searchFilter\" value={{{ [<aggrSearch>addsuffix[ ]addsuffix<quadrantRun>addsuffix<doneRun>addsuffix<textRun>addsuffix<todolistRun>addsuffix<scheduleRun>addsuffix<timeRun>addsuffix<fieldRun>addsuffix<valueRun>addsuffix<limitRun>] }}}>\n<span class=\"tc-search xp-filtersearch\">\n{{$:/xp/aggregation-gtd/ui/FilterButtons/delete}}\n</span>\n<$set name=\"stateTiddler\" filter=\"[<storeTitle>!is[missing]get[text]trim[]!is[blank]]\" value=<<storeTitle>> emptyValue=<<filterState>>>\n<$reveal state=<<stateTiddler>> type=\"nomatch\" text=\"\">\n<$reveal state=<<filterState>> type=\"nomatch\" text=\"yes\" animate=\"yes\">\n<span class=\"xp-search-results\"><<lingo System/Matches>></span>\n</$reveal>\n</$reveal>\n</$set>\n\n<$reveal state=<<filterState>> type=\"match\" text=\"yes\" animate=\"yes\">\n<div class=\"xp-wrapper-aggrfilter\">\n\nFilter conditions: <<resetConditionButton>>\n\n<div class=\"xp-aggrfilter-category\">\n<table>\n<tbody>\n<$list filter=\"[tag<aggregationTag>limit[1]]\" variable=\"ignore\">\n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">四象限</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$vars pt=\" +[tag[\" st=\"]]\">\n  <$tiddler tiddler=<<quadrantStatus>>>\n  <$list filter=\"$:/q1 $:/q2 $:/q3 $:/q4\" variable=\"qTag\">\n  <$radio field=\"text\" value={{{ [<qTag>addprefix<pt>addsuffix<st>] }}}>&#32;<span class={{{ [<qTag>removeprefix[$:/]addprefix[xp-gtd-]addsuffix[ xp-gtd-filter]] }}}><$transclude tiddler=<<qTag>> field=\"caption\"><$view tiddler=<<qTag>> field=\"title\"/></$transclude></span> </$radio>\n  </$list>\n  </$tiddler>\n  </$vars>\n  </span>\n</td>\n</tr>\n</$list>\n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">完成状态</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$tiddler tiddler=<<doneStatus>>>\n  <$radio field=\"text\" value=\" +[tag[done]]\">&#32; done </$radio>\n  <$radio field=\"text\" value=\" +[!tag[done]]\">&#32; undone </$radio>\n  </$tiddler>\n  </span>\n</td>\n</tr>\n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">文本</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$tiddler tiddler=<<textStatus>>>\n  <$radio field=\"text\" value=\" +[has[text]]\">&#32; text </$radio>\n  <$radio field=\"text\" value=\" +[!has[text]]\">&#32; blank </$radio>\n  </$tiddler>\n  </span>\n</td>\n</tr>\n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">待办清单</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$tiddler tiddler=<<todolistStatus>>>\n  <$radio field=\"text\" value=\" :filter[removeprefix[$:/]addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\">&#32; todolist </$radio>\n  <$radio field=\"text\" value=\" :filter[removeprefix[$:/]addprefix[$:/todolist/data/status/]indexes[]count[]match[0]]\">&#32; none </$radio>\n  </$tiddler>\n  </span>\n</td>\n</tr>\n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">日程安排</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$tiddler tiddler=<<scheduleStatus>>>\n  <$radio field=\"text\" value=\" +[has[due]]\">&#32; schedule </$radio>\n  <$radio field=\"text\" value=\" +[!has[due]]\">&#32; none </$radio>\n  </$tiddler>\n  </span>\n</td>\n</tr>\n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">时间</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$select tiddler=<<filterState>> field=\"filter\" class=\"xp-aggregation-select\" actions=\"\"\"<$list filter=\"[<filterState>search:filter[regexp:created]]\"><$action-setfield $tiddler=<<dateStatus>> status=\"show\"/></$list>\"\"\">\n  <option value=\"\"> All</option>\n  <option value=\"+[days:created[-1]]\"> Past 24 hours</option>\n  <option value=\"+[days:created[-7]]\"> Past week</option>\n  <option value=\"+[days:created[-30]]\"> Past month</option>\n  <option value=\"+[days:created[-365]]\"> Past year</option>\n  <option value=\"+[regexp:created[]]\"> Enter a date</option>\n  </$select>\n  <$vars pt=\" +[regexp:created[^\" st=\"]]\">\n  <$list filter=\"[<dateStatus>is[tiddler]]\">\n  <$macrocall $name=\"keyboard-driven-input\" tiddler=<<dateStatus>>\n      type=\"search\" tag=\"input\" size=7 focus=\"no\"\n      inputCancelActions=<<cancel-datefilter-actions>> inputAcceptActions=<<input-accept-actions-date>>/>\n  <$button> Enter\n  <<input-accept-actions-date>>\n  </$button>\n  </$list>\n  </$vars>\n  </span>\n</td>\n</tr>\n<!-- \n<tr>\n<td align=\"right\"><span class=\"xp-aggrfilter-category-title tc-muted\">字段</span></td>\n<td>\n  <span class=\"xp-aggrfilter-category-item\">\n  <$vars getField={{{ [<fieldTiddler>is[tiddler]get[text]] }}} getValue={{{ [<valueTiddler>is[tiddler]get[text]] }}}\n      pt1=\"+[has:field[\" pt2=\"+[\" st=\"]]\" st2=\"[\">\n  <$select tiddler=<<fieldTiddler>> tooltip=\"Choosing the Field\" class=\"xp-aggregation-select\" actions=\"\"\"<$action-setfield $tiddler=<<fieldTiddler>> filter={{{ [<fieldTiddler>get[text]addprefix<pt1>addsuffix<st>] }}}/><$action-deletetiddler $tiddler=<<valueTiddler>>/>\"\"\">\n  <$list filter=\"[tag<aggregationTag>] +[fields:exclude{$:/config/xp/aggregation/excluded-fields/filtering-button}]\">\n  <option><$view field=\"title\"/></option>\n  </$list>\n  </$select>\n  <$list filter=\"[tag<aggregationTag>] +[has<getField>limit[1]]\" emptyMessage=\"\"\"<$list filter=\"[<fieldTiddler>has[text]]\"><span class=\"xp-aggrfilter-category-title tc-muted\"> No value for this field </span></$list>\"\"\" variable=\"ignore\">\n  :<$select tiddler=<<valueTiddler>> tooltip=\"Choosing the Value\" class=\"xp-aggregation-select\" actions=\"\"\"<$action-setfield $tiddler=<<valueTiddler>> filter={{{ [<getField>addprefix<pt2>addsuffix<st2>addsuffix{$:/temp/xp/aggregation-gtd/FieldValue}addsuffix<st>] }}}/>\"\"\">\n  <$list filter=\"[tag<aggregationTag>] +[has<getField>each<getField>get<getField>!is[blank]]\">\n  <option><$view field=\"title\"/></option>\n  </$list>\n  </$select>\n  </$list>\n  </$vars>\n  </span>\n</td>\n</tr>\n-->\n</tbody>\n</table>\n</div>\n\n</div>\n</$reveal>\n<$reveal state=<<filterState>> type=\"match\" text=\"yes\" animate=\"yes\">\n<<lingo System/Matches>>\n</$reveal>\n\n<!-- Normal View -->\n<$reveal state=<<defaultView>> default=\"gtd\" type=\"match\" text=\"gtd\" animate=\"yes\">\n\n<div class=\"py-todos\">\n<$list filter=<<searchFilter>>>\n<$vars currentList={{{ [<currentTiddler>tags[]prefix[$:/q]limit[1]] }}}>\n<$transclude mode=\"inline\" tiddler=\"$:/xp/aggregation-gtd/quadrant/ItemTemplate\" />\n</$vars>\n</$list>\n</div>\n\n</$reveal>\n\n<!-- Manager View -->\n<$reveal state=<<defaultView>> default=\"gtd\" type=\"nomatch\" text=\"gtd\" animate=\"yes\">\n\n<div class=\"tc-manager-list\">\n<$list filter=<<searchFilter>>>\n<$vars transclusion=<<currentTiddler>>>\n  <div class=\"tc-manager-list-item\">\n    <$button popup=<<qualify \"$:/state/xp/aggregation-gtd\">> class=\"tc-btn-invisible tc-manager-list-item-heading xp-manager-item-heading\" selectedClass=\"tc-manager-list-item-heading-selected\">\n      <$view field='caption'><$view field='title'/></$view>\n          <$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n          <$list filter=\"[<td-baseName>addprefix[$:/todolist/data/status/]is[tiddler]!text[{}]]\" variable=\"ignore\">\n      {{||$:/xp/images/pie-todolist}}\n          </$list>\n          </$vars>\n          <$list filter=\"[all[current]!text[]]\">\n      <span class=\"py-todo-text-icon\">\n        {{$:/plugins/nico/projectify/images/file}}\n      </span>\n          </$list>\n          <span style=\"float:right;\">\n            <$list filter=<<py-is-scheduled>>>\n      {{||$:/xp/aggregation-gtd/ui/ManagerView/TodoDueDate}}\n            </$list>\n          </span>\n    </$button>\n    <$reveal state=<<qualify \"$:/state/xp/aggregation-gtd\">> type=\"nomatch\" text=\"\" default=\"\" tag=\"div\" class=\"tc-manager-list-item-content tc-popup-handle\">\n      <div class=\"xp-manager-item-content xp-manager-item-content-tiddler\">\n      {{||$:/xp/aggregation-gtd/ui/Search/gtd-actions}}\n        <$transclude mode=\"block\"/>\n        <$set name=\"td-baseName\" value={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n          <$list filter=\"[all[current]tag[Todolist]]\">\n        <<gtd-todolist-ui caption:\"Todolist\">>\n          </$list>\n        </$set>\n      </div>\n    </$reveal>\n  </div>\n</$vars>\n</$list>\n</div>\n\n</$reveal>\n\n</$set>\n</$vars>\n\n</div>\n"},"$:/xp/aggregation-gtd/ui/SideBar/AddTodo":{"title":"$:/xp/aggregation-gtd/ui/SideBar/AddTodo","text":"\\define lingo-base() $:/language/projectify/\n\n\\define add-todo-actions()\n<$list filter=\"[<stateTiddler>get[todo-name]trim[]!is[blank]]\" variable=\"ignore\">\n  <$action-createtiddler\n    $basetitle={{{ [[$:/gtd/]addsuffix<now \"[UTC]YYYY0MM0DD0hh0mm0ssXXX\">] }}}\n    $savetitle=\"$:/temp/projectify/new-todo\"\n    tags=\"GTD\"\n    caption={{{ [<stateTiddler>get[todo-name]] }}}\n  />\n\n  <$action-listops $tiddler={{$:/temp/projectify/new-todo}} $tags={{$:/config/xp/aggregation-gtd/QuadrantTag}}/>\n  <$action-listops $tiddler={{$:/config/xp/aggregation-gtd/QuadrantTag}} $subfilter={{$:/temp/projectify/new-todo}}/>\n  <$action-setfield $tiddler={{$:/temp/projectify/new-todo}} due={{{ [<stateTiddler>get[due]] }}}/>\n  <$reveal state=\"$:/config/xp/aggregation-gtd/ContentType\" type=\"match\" text=\"text/x-markdown\">\n  <$action-setfield $tiddler={{$:/temp/projectify/new-todo}} type=\"text/x-markdown\"/>\n  </$reveal>\n  <$action-deletefield $tiddler=<<stateTiddler>> todo-name due qtag />\n  \n  <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n</$list>\n\\end\n\n\\define cancel-input-actions() <$action-deletefield $tiddler=<<stateTiddler>> todo-name />\n\n<$vars stateTiddler=\"$:/temp/gtd/add-todo/sidebar\">\n  <div class=\"xp-gtd-addtodo\">\n  <div class=\"xp-gtd-addtodo-textbox\">\n    <$keyboard key=\"escape\" actions=<<cancel-input-actions>>>\n    <$keyboard key=\"enter\" actions=<<add-todo-actions>>>\n      <$edit-text\n  class=\"xp-gtd-addtodo-textbox-input\"\n  tiddler=<<stateTiddler>>\n  field=\"todo-name\"\n  placeholder=\"Add todo...\"\n  />\n    </$keyboard>\n    </$keyboard>\n  </div>\n\n  <$list filter=\"[<stateTiddler>get[todo-name]trim[]!is[blank]]\" variable=\"ignore\" storyview=\"pop\">\n  <$button\n    class=\"tc-btn-invisible tc-tiny-gap-left\"\n    actions=<<add-todo-actions>>\n    tooltip=\"Add new item\"\n    aria-label=\"new item\"\n  >\n    {{$:/core/images/new-button}}\n  </$button>\n  <i class=\"tc-tiny-gap\"/>\n    <$vars currentTiddler=<<stateTiddler>>>\n  <$transclude tiddler=\"$:/xp/aggregation-gtd/ui/SideBar/TodoQuadrant\" mode=\"inline\"/>\n  <i class=\"tc-tiny-gap\"/>\n  <$transclude tiddler=\"$:/xp/aggregation-gtd/ui/buttons/DueDate\" mode=\"inline\"/>\n    </$vars>\n  </$list>\n  </div>\n</$vars>\n"},"$:/xp/ui/SideBar/Things":{"title":"$:/xp/ui/SideBar/Things","caption":"Things","color":"#bbb","description":"Getting Things Done","icon":"$:/xp/images/done","tags":"$:/tags/SideBar","text":"\\import $:/xp/aggregation-gtd/macros\n\\define lingo-base() $:/language/projectify/\n\\define stateTiddler() $:/config/xp/aggregation-gtd/SideBar/QuadrantView\n\n\\define gtdQuadrant(n)\n<$vars currentList=\"$:/q$n$\" qTag=\"$:/q$n$\">\n<$reveal state=<<stateTiddler>> type=\"match\" text=<<currentList>> animate=\"yes\">\n  <h3>\n    <$button class=\"tc-btn-invisible xp-gtd-list-header-btn\">\n    <span class=\"xp-gtd-q$n$\">\n    <$transclude tiddler=<<currentList>> field=\"caption\"><$view tiddler=<<currentList>> field=\"title\"/></$transclude>\n    </span>\n    <$action-setfield $tiddler=<<stateTiddler>> text=\"4\"/>\n    </$button>\n  </h3>\n\n  <div class=\"py-todos\">\n    <$list \n      filter=\"[tag<qTag>!tag[done]!sort[created]] [tag<qTag>tag[done]!sort[modified]] +[!has[draft.of]limit[250]]\"\n      template=\"$:/xp/aggregation-gtd/SideBar/ItemTemplate\"\n      emptyMessage=\"<p>没有任务</p>\"\n    />\n  </div>\n</$reveal>\n</$vars>\n\\end\n\n\n<div class=\"xp-gtd-sidebar\">\n\n<h3>\n<$button to=\"GettingThingsDone\" class=\"tc-btn-invisible xp-gtd-list-header-btn\">\n<span class=\"tc-sidebar-header\">~GettingThingsDone</span>\n</$button>\n</h3>\n\n<div class=\"xp-gtd-sidebar-addtodo\">\n{{$:/xp/aggregation-gtd/ui/SideBar/AddTodo}}\n</div>\n\n<!-- 四象限 -->\n<$reveal state=<<stateTiddler>> type=\"match\" text=\"4\" animate=\"yes\">\n\n<<scheduleTodoList>>\n\n<$list filter=<<gtd-quadrant>> variable=\"currentList\" storyview=\"pop\">\n\n  <h3>\n    <$button class=\"tc-btn-invisible xp-gtd-list-header-btn\">\n      <span class={{{ [<currentList>removeprefix[$:/]addprefix[xp-gtd-]] }}}>\n      <$transclude tiddler=<<currentList>> field=\"caption\"><$view tiddler=<<currentList>> field=\"title\"/></$transclude>\n      </span>\n      <$action-setfield $tiddler=<<stateTiddler>> text=<<currentList>>/>\n    </$button>\n  </h3>\n\n  <div class=\"py-todos\">\n    <$list\n      filter=\"[tag<currentList>!tag[done]!sort[created]!has[draft.of]]\"\n      template=\"$:/xp/aggregation-gtd/SideBar/ItemTemplate\"\n      emptyMessage=\"<p>没有任务</p>\"\n    />\n  </div>\n\n</$list>\n\n</$reveal>\n\n<!-- 单列表视图 -->\n<$reveal state=<<stateTiddler>> type=\"nomatch\" text=\"4\" animate=\"yes\">\n\n<<gtdQuadrant 1>>\n<<gtdQuadrant 2>>\n<<gtdQuadrant 3>>\n<<gtdQuadrant 4>>\n\n</$reveal>\n\n</div>\n"},"$:/xp/aggregation-gtd/ui/SideBar/TodoQuadrant":{"title":"$:/xp/aggregation-gtd/ui/SideBar/TodoQuadrant","text":"\\whitespace trim\n<$vars\n  popupTiddler=<<qualify \"$:/state/projectify/due-priority-dropdown\">>\n  cssClass={{{ [{$:/config/xp/aggregation-gtd/QuadrantTag}removeprefix[$:/]addprefix[tc-btn-invisible py-priority xp-gtd-]] }}}\n>\n  <$button\n    class=<<cssClass>>\n    popup=<<popupTiddler>>\n    tooltip={{$:/language/projectify/Priority/Hint}}\n    aria-label={{$:/language/projectify/Priority/Hint}}\n  >\n    <$transclude tiddler={{$:/config/xp/aggregation-gtd/QuadrantIcon}} mode=\"inline\"/>\n  </$button>\n  \n  <$reveal state=<<popupTiddler>> type=\"popup\" position=\"belowleft\" animate=\"no\">\n    <div class=\"tc-drop-down py-drop-down\">\t\t\t\n      <div class=\"py-priorities\">\n  <$list filter=\"q1 q2 q3 q4\" variable=\"quadrant\">\n    <$button class={{{ [[tc-btn-invisible xp-gtd-filter xp-gtd-]addsuffix<quadrant>] }}}>\n      <$vars qTag={{{ [[$:/]addsuffix<quadrant>] }}} qIcon={{{ [[$:/xp/images/]addsuffix<quadrant>] }}}>\n    <$transclude tiddler={{{ [[$:/xp/images/]addsuffix<quadrant>] }}} mode=\"inline\"/>\n    <$action-setfield $tiddler=\"$:/config/xp/aggregation-gtd/QuadrantIcon\" text=<<qIcon>>/>\n    <$action-setfield $tiddler=\"$:/config/xp/aggregation-gtd/QuadrantTag\" text=<<qTag>>/>\n    <$action-setfield qtag=<<qTag>>/>\n    <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n      </$vars>\n    </$button>\n  </$list>\n      </div>\n    </div>\n  </$reveal>\n</$vars>\n"},"$:/xp/aggregation-gtd/ui/TodoActions":{"title":"$:/xp/aggregation-gtd/ui/TodoActions","text":"<span class=\"py-todo-actions\">\n  <$list filter=\"[<showProjectLinks>!is[blank]]\" variable=\"ignore\">\n    <$list filter=\"[all[current]tags[]filter<py-all-projects-and-subprojects-filter>]\">\n      <$link to={{!!title}} overrideClass=\"py-project-link\"/>\n    </$list>\n  </$list>\n    \n  <$list filter=<<py-is-scheduled>>>\n    {{||$:/xp/aggregation-gtd/ui/buttons/TodoDueDate}}\n  </$list>\n\n  <!-- $:/plugins/nico/projectify/ui/buttons/TodoActions -->\n  <$vars\n    popupTiddler=<<qualify \"$:/state/projectify/todo-actions-dropdown\">>\n    cssClass=\"py-btn\"\n  >\n  <$button\n    class=<<cssClass>>\n    popup=<<popupTiddler>>\n    tooltip={{$:/language/projectify/TodoActions/Hint}}\n    aria-label={{$:/language/projectify/TodoActions/Hint}}\n  >\n    {{$:/plugins/nico/projectify/images/dots}}\n  </$button>\n\n  <$reveal state=<<popupTiddler>> type=\"popup\" position=\"belowleft\" animate=\"no\">\n    <div class=\"tc-drop-down py-drop-down py-date-picker py-todo-actions-drop-down\">\n      {{||$:/xp/aggregation-gtd/ui/TodoQuadrant}}\n      <hr/>\n      {{||$:/plugins/nico/projectify/ui/forms/TodoDueDate}}\n    </div>\n  </$reveal>\n  </$vars>\n\n</span>\n"},"$:/xp/aggregation-gtd/ui/TodoCaption":{"title":"$:/xp/aggregation-gtd/ui/TodoCaption","text":"<span class=\"xp-gtd-caption\">\n<$list filter=\"[all[current]regexp:caption[^{{]]\" emptyMessage=\"<$view field='caption'><$view field='title'/></$view>\">\n<$transclude field=\"caption\"><$view field=\"title\"/></$transclude>\n</$list>\n</span>"},"$:/xp/aggregation-gtd/ui/TodoQuadrant":{"title":"$:/xp/aggregation-gtd/ui/TodoQuadrant","text":"<div class=\"py-priorities\">\n  <$list filter=\"$:/q1 $:/q2 $:/q3 $:/q4\" variable=\"qTag\">\n    <$button class={{{ [<qTag>removeprefix[$:/]addprefix[tc-btn-invisible xp-gtd-filter xp-gtd-]] }}}>\n      <$transclude tiddler={{{ [<qTag>removeprefix[$:/]addprefix[$:/xp/images/]] }}} mode=\"inline\"/>\n      <$action-listops $tags=\"-[tag[GettingThingsDone]]\"/>\n      <$action-listops $tags=<<qTag>>/>\n      <$list filter=\"$:/q1 $:/q2 $:/q3 $:/q4\" variable=\"qList\">\n        <$action-listops $tiddler=<<qList>> $subfilter=\"-[<currentTiddler>]\"/>\n      </$list>\n      <$action-listops $tiddler=<<qTag>> $subfilter=<<currentTiddler>>/>\n      <$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n    </$button>\n  </$list>\n</div>\n"},"$:/xp/aggregation-gtd/ui/TodolistButton":{"title":"$:/xp/aggregation-gtd/ui/TodolistButton","text":"\\whitespace trim\n\\define save-actions()\n<$action-sendmessage $message=\"tm-auto-save-wiki\"/>\n\\end\n\n<$list filter=\"[all[current]tag[GTD]!tag[Todolist]!has[draft.of]]\" variable=\"ignore\">\n<$button\n  class=\"py-btn tc-tiny-gap-left\"\n  tooltip=\"添加待办列表\"\n  aria-label=\"add todolist\"\n>\n  <$action-listops $tags=\"Todolist\"/>\n  <<save-actions>>\n  {{$:/core/images/list-bullet}}\n</$button>\n</$list>\n<$list filter=\"[all[current]tag[GTD]tag[Todolist]!has[draft.of]]\" variable=\"ignore\">\n<$button\n  class=\"py-btn py-pie tc-tiny-gap-left\"\n  tooltip=\"隐藏待办列表\"\n  aria-label=\"hide todolist\"\n>\n  <$action-listops $tags=\"-Todolist\"/>\n  <span style=\"fill:#4772fa;\">{{$:/core/images/list-bullet}}</span>\n</$button>\n</$list>\n"},"$:/xp/ui/ViewTemplate/gtd-actions":{"title":"$:/xp/ui/ViewTemplate/gtd-actions","list-after":"$:/core/ui/ViewTemplate/tags","tags":"$:/tags/ViewTemplate","text":"\\whitespace trim\n\\define lingo-base() $:/language/projectify/\n\n\\define easyedit-state()\n$:/state/gtd-easyedit/$(currentTiddler)$\n\\end\n\n\\define gtdControls()\n\\whitespace trim\n<div class=\"py-todo-heading\">\n{{||$:/xp/aggregation-gtd/ui/buttons/TodoDueDate}}\n{{||$:/xp/aggregation-gtd/ui/buttons/TodoQuadrant}}\n{{||$:/xp/aggregation-gtd/ui/DeleteButton}}\n{{||$:/xp/aggregation-gtd/ui/DoneButton}}\n{{||$:/xp/aggregation-gtd/ui/TodolistButton}}\n{{||$:/xp/aggregation-gtd/ui/EasyEditButton}}\n</div>\n\\end\n\n\\define gtdDeleteActions()\n<$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}} td-basePath=\"$:/todolist/data\">\n<$action-deletetiddler $filter=\"[prefix<td-basePath>suffix<td-baseName>]\"/>\n<$list filter=\"$:/q1 $:/q2 $:/q3 $:/q4\" variable=\"qList\">\n<$action-listops $tiddler=<<qList>> $subfilter=\"-[<currentTiddler>]\"/>\n</$list>\n<$action-sendmessage $message=\"tm-close-tiddler\" param=<<currentTiddler>>/>\n<$action-deletetiddler $tiddler=<<currentTiddler>>/>\n</$vars>\n\\end\n\n<$list filter=\"[all[current]tag[GTD]!has[draft.of]]\" variable=\"ignore\">\n<$reveal tag=\"div\" type=\"nomatch\" stateTitle=<<folded-state>> text=\"hide\" retain=\"yes\">\n\n<<gtdControls>>\n\n</$reveal>\n<$reveal tag=\"div\" type=\"match\" stateTitle=<<easyedit-state>> text=\"yes\" retain=\"yes\">\n\n<<gtdControls>>\n\n<$transclude tiddler={{{ [<currentTiddler>] :cascade[all[shadows+tiddlers]tag[$:/tags/EditTemplateBodyFilter]!is[draft]get[text]] :and[!is[blank]else[$:/core/ui/EditTemplate/body/default]] }}} />\n\n</$reveal>\n</$list>"},"$:/xp/ui/ViewTemplate/gtd-todolist":{"title":"$:/xp/ui/ViewTemplate/gtd-todolist","tags":"$:/tags/ViewTemplate","text":"\\whitespace trim\n\n\\define easyedit-state()\n$:/state/gtd-easyedit/$(currentTiddler)$\n\\end\n\n\\define gtdTodolist()\n\\whitespace trim\n<$list filter=\"[all[current]tag[GTD]tag[Todolist]!has[draft.of]]\" variable=\"ignore\">\n<$vars td-baseName={{{ [<currentTiddler>removeprefix[$:/]] }}}>\n<<gtd-todolist-ui caption:\"Todolist {{||$:/xp/images/pie-todolist}}\">>\n</$vars>\n</$list>\n\\end\n\n<$reveal tag=\"div\" type=\"nomatch\" stateTitle=<<folded-state>> text=\"hide\" retain=\"yes\">\n<<gtdTodolist>>\n</$reveal>\n<$reveal tag=\"div\" type=\"match\" stateTitle=<<easyedit-state>> text=\"yes\" retain=\"yes\">\n<<gtdTodolist>>\n</$reveal>"},"$:/xp/aggregation-gtd/ui/buttons/DueDate":{"title":"$:/xp/aggregation-gtd/ui/buttons/DueDate","text":"\\define lingo-base() $:/language/projectify/\n\n<$vars popupTiddler=<<qualify \"$:/state/projectify/due-date-dropdown\">>>\n  <$button class=\"tc-btn-invisible py-due-date\" popup=<<popupTiddler>> tooltip={{$:/language/projectify/Schedule/Caption}}>\n    {{$:/plugins/nico/projectify/images/calendar}}\n  </$button>\n\n  <$reveal state=<<popupTiddler>> type=\"popup\" position=\"belowleft\" animate=\"no\">\n    <div class=\"tc-drop-down py-drop-down py-date-picker\">\n      {{||$:/plugins/nico/projectify/ui/forms/TodoDueDate}}\n    </div>\n  </$reveal>\n</$vars>\n"},"$:/xp/aggregation-gtd/ui/buttons/TodoDueDate":{"title":"$:/xp/aggregation-gtd/ui/buttons/TodoDueDate","text":"\\whitespace trim\n\\define lingo-base() $:/language/projectify/\n\n<$vars popupTiddler=<<qualify \"$:/state/projectify/due-date-dropdown\">>>\n  <$list filter=<<py-is-overdue>>>\n    <$button class=\"py-btn py-due-date py-overdue\" popup=<<popupTiddler>>>\n      <$list\n        filter=<<py-is-due-yesterday>>\n        emptyMessage=\"\"\"<$view field=\"due\" format=\"relativedate\"/>\"\"\"\n      >\n  <<lingo Yesterday>>\n      </$list>\n    </$button>\n  </$list>\n  <$list filter=<<py-is-not-overdue>>>\n    <$list filter=<<py-is-due-today>>>\n      <$button class=\"py-btn py-due-date py-due-today\" popup=<<popupTiddler>>>\n      <<lingo Today>>\n    </$button>\n    </$list>\n    <$list filter=<<py-is-due-later>>>\n      <$button class=\"py-btn py-due-date\" popup=<<popupTiddler>>>\n  <$list\n    filter=<<py-is-due-tomorrow>>\n    emptyMessage=\"\"\"<$view field=\"due\" format=\"date\" template={{$:/language/xp/aggregation-gtd/DateFormat}}/>\"\"\"\n  >\n    <<lingo Tomorrow>>\n  </$list>\n      </$button>\n    </$list>\n    <$list filter=<<py-is-not-scheduled>>>\n      <$button class=\"py-btn py-due-date py-not-scheduled\" popup=<<popupTiddler>>>\n  {{$:/plugins/nico/projectify/images/calendar}}\n  <<lingo Schedule/Caption>>\n      </$button>\n    </$list>\n  </$list>\n\n  <$reveal state=<<popupTiddler>> type=\"popup\" position=\"belowleft\" animate=\"no\">\n    <div class=\"tc-drop-down py-drop-down py-date-picker\">\n      {{||$:/plugins/nico/projectify/ui/forms/TodoDueDate}}\n    </div>\n  </$reveal>\n</$vars>\n"},"$:/xp/aggregation-gtd/ui/buttons/TodoQuadrant":{"title":"$:/xp/aggregation-gtd/ui/buttons/TodoQuadrant","text":"\\whitespace trim\n<$list filter=\"[all[current]tag[$:/q1]] [all[current]tag[$:/q2]] [all[current]tag[$:/q3]] [all[current]tag[$:/q4]] +[limit[1]]\">\n<$vars\n  popupTiddler=<<qualify \"$:/state/projectify/due-priority-dropdown\">>\n>\n  <$button\n    class=\"py-btn py-priority tc-tiny-gap-left\"\n    popup=<<popupTiddler>>\n    tooltip={{$:/language/projectify/Priority/Hint}}\n    aria-label={{$:/language/projectify/Priority/Hint}}\n  >\n    <$list filter=\"[all[current]tag[$:/q1]]\">\n      <span style=\"fill: #FF5F68;\">{{$:/xp/images/q1}}</span>\n    </$list>\n    <$list filter=\"[all[current]tag[$:/q2]]\">\n      <span style=\"fill: #FFB000;\">{{$:/xp/images/q2}}</span>\n    </$list>\n    <$list filter=\"[all[current]tag[$:/q3]]\">\n      <span style=\"fill: #4772FA;\">{{$:/xp/images/q3}}</span>\n    </$list>\n    <$list filter=\"[all[current]tag[$:/q4]]\">\n      <span style=\"fill: #0CCE9C;\">{{$:/xp/images/q4}}</span>\n    </$list>\n  </$button>\n  <$reveal state=<<popupTiddler>> type=\"popup\" position=\"belowleft\" animate=\"no\">\n    <div class=\"tc-drop-down py-drop-down\">\n      {{||$:/xp/aggregation-gtd/ui/TodoQuadrant}}\n    </div>\n  </$reveal>\n</$vars>\n</$list>\n"}}}